<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="计算机组成原理考点总结, 计算机科学 python 人工智能 前端">
    <meta name="description" content="
《计算机组成原理》课程考点总结整理，内容较长，迁移至本博客。参考教材为唐朔飞《计算机组成原理》（第三版）。

在线阅读地址：https://weread.qq.com/web/bookDetail/acd32ce0811e4e902g01">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>计算机组成原理考点总结 | 湖心亭</title>
    <link rel="icon" type="image/png" href="/orange.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>

    <!-- 动态诗词 -->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
<style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loader页面消失采用渐隐的方式*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }
    
    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }
    
   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}
    
    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}
    
   
    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logo出现动画 */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//强制显示loading page 1s  
    };
    loaded();
})()
 </script><meta name="generator" content="Hexo 6.1.0"></head>





 <div id="loading-container">
     <p class="loading-text">玩命加载中 . . . </p> 
     <div class="loading-image">
         <div></div>
         <div></div>
         <div></div>
         <div></div> 
         <div></div>
     </div>
 </div><body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/orange.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">湖心亭</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/navigate" class="waves-effect waves-light">
      
      <i class="fas fa-location-arrow" style="zoom: 0.6;"></i>
      
      <span>Navigate</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Douban</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/movies">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>电影</span>
        </a>
      </li>
      
      <li>
        <a href="/books">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>书单</span>
        </a>
      </li>
      
      <li>
        <a href="/games">
          
          <i class="fas fa-gamepad" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>游戏</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>



<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/orange.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">湖心亭</div>
        <div class="logo-desc">
            
            湖上影子，惟长堤一痕、湖心亭一点，与余舟一芥，舟中人两三粒而已。
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/navigate" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-location-arrow"></i>
			
			Navigate
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Douban
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a href="/movies " style="margin-left:75px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>电影</span>
                  </a>
                </li>
              
                <li>

                  <a href="/books " style="margin-left:75px">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>书单</span>
                  </a>
                </li>
              
                <li>

                  <a href="/games " style="margin-left:75px">
				  
				   <i class="fa fas fa-gamepad" style="position: absolute;left:50px" ></i>
			      
		          <span>游戏</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://ooo.0x0.ooo/2024/03/13/OywT7a.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">计算机组成原理考点总结</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/">
                                <span class="chip bg-color">大学课程</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" class="post-category">
                                计算机组成原理
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2024-03-12
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2024-03-13
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    12.5k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    48 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <blockquote>
<p>《计算机组成原理》课程考点总结整理，内容较长，迁移至本博客。参考教材为唐朔飞《计算机组成原理》（第三版）。</p>
<ul>
<li>在线阅读地址：<a target="_blank" rel="noopener" href="https://weread.qq.com/web/bookDetail/acd32ce0811e4e902g019a39">https://weread.qq.com/web/bookDetail/acd32ce0811e4e902g019a39</a></li>
<li>离线下载地址：<a target="_blank" rel="noopener" href="http://jump.bdimg.com/safecheck/index?url=rN3wPs8te/pjz8pBqGzzzz3wi8AXlR5g1NgdDpM6gxJt6e540loBvHj1FxehSYULYM5FClyVwveOli329RQShodxOTn06PUa7e0m6FreOSTaIWuojZ448yS5pgL6e0f4twqbhGfyI8lkDA0Y/E/Q4IUUHCNbnh8O0e4F5BQvy/OQTEILP1QZFXnPwGfiBcHEMDxm7iZ2BjQ=">https://pan.baidu.com/s/1HoULLYxx-WC8kuWg5EHVtg?pwd=rmlp</a></li>
</ul>
</blockquote>
<h2 id="芯片设计与连线题"><a href="#芯片设计与连线题" class="headerlink" title="芯片设计与连线题"></a>芯片设计与连线题</h2><h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><p>该考点涉及的基本知识包括存储器容量构成、存储器容量的扩展等等。</p>
<h4 id="存储器容量"><a href="#存储器容量" class="headerlink" title="存储器容量"></a>存储器容量</h4><p>通常（若以位为单位）<strong>存储器的容量=存储单元个数×存储字长</strong>，存储字长就是单个存储单元的位数，前者和地址线相关，后者和数据线相关。</p>
<p>对于一个存储容量为$m\times n位$（<strong>其中$m$表示存储单元个数，$n$表示存储字长</strong>）的存储芯片，则该芯片的地址线数量为$\log_2m$（通常$m$是2的整数次幂），数据线数量为$n$，逻辑示意图如下。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130854443.png" alt="存储容量"></p>
<h4 id="存储器容量的扩展"><a href="#存储器容量的扩展" class="headerlink" title="存储器容量的扩展"></a>存储器容量的扩展</h4><p>由于单片存储芯片提供的存储容量与字长一般不能直接满足实际需求，所以经常是将若干存储芯片连接在一起组成特定机器的存储系统，这就是存储器扩展。存储器的扩展通常可以分为位扩展，字扩展以及位、字同时扩展。</p>
<p>位扩展，指的是只扩展存储字长，表现为被选中的芯片同时工作，但是与之相连的数据线增加了。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130855057.png" alt="位扩展"></p>
<p>上图表示两片2114（1K×4位）组成1K×8位的存储系统。可以看出，两个芯片的数据引脚（每个4个，一共8个）与处理器的8条数据线$D_7,D_6,\dots,D_0$相连，而不涉及片选信号（$\overline{CS_0}$），表示两个芯片总是同时被选中一起工作，只是存储字长翻倍了。</p>
<p>字扩展，则只扩展存储单元数量。表现为被选中的芯片分时工作。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130855289.png" alt="字扩展">{width=”0.6\\linewidth”}</p>
<p>上图表示两片1K×8位芯片组成2K×8位的存储系统。可以看出，存储字长并没有变化，始终为8（都是芯片的8根数据线与处理器的8根数据线相连），而处理器的低位地址线$A_9,A_8,\dots,A_0$与芯片的地址线相连，$A_{10}$则作为片选信号，当$A_{10}=1$为高电平时，$\overline{CS_1}$低电平导通，该芯片被选中工作，反之$\overline{CS_0}$被选中工作。</p>
<p>字、位同时扩展，指存储单元和存储字长同时扩展。图中的片选译码通常为74LS138。请尝试自行理解。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130855328.png" alt="字、位同时扩展">{width=”0.6\\linewidth”}</p>
<h4 id="74LS138译码器"><a href="#74LS138译码器" class="headerlink" title="74LS138译码器"></a>74LS138译码器</h4><p>常见的片选译码器，知道什么功能即可。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130856616.png" alt="74LS138译码器">{width=”0.6\\linewidth”}</p>
<p>其中$A_2,A_1,A_0$为变量输入端，$S_1,\bar{S}_2,\bar{S}_3$为使能端。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130856473.png" alt="74LS138译码器功能表">{width=”0.6\\linewidth”}</p>
<p>简言之，<strong>变量输入端$A_2A_1A_0$表示的十进制数为$i$，则输出端$\bar{Y}_0,\bar{Y}_1,\dots,\bar{Y}_7$中只有$\bar{Y}_i$为低电平0，其余均为高电平1</strong>。</p>
<h3 id="考点概述"><a href="#考点概述" class="headerlink" title="考点概述"></a>考点概述</h3><p>通常地，题目会给出一个处理器的规格（$x$条地址线、$y$条数据线），以及控制信号（读写控制信号、访存控制信号等），给出若干RAM、ROM，以及需要分配的地址范围要求（三大区：系统程序区、系统程序工作区和用户程序区），<strong>考察如何选取芯片并连接芯片与处理器，完成设计</strong>。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130856592.jpg" alt="芯片设计题解题思考流程参考">{width=”0.6\\linewidth”}</p>
<p>首先是确定系统程序区、用户程序区和系统程序工作区三者的地址范围。题目可以给出各种各样的条件（直接给出十进制范围，比如0 32767；最大16K；与xxx相邻的16K等等），只需要用二进制表示出三个区的地址范围以及范围大小，这一步就完成了。</p>
<p>接下来，得到三个区的地址范围后，开始选取芯片。RAM、ROM芯片的选取原则如下为<strong>系统程序区：ROM系统程序工作区、用户程序区：RAM</strong>。</p>
<p>另外，需要保证选取的ROM、RAM数据线不少于处理器的数据线（否则将造成浪费———处理器剩余未连接的引脚全部浪费）。当前者多于后者时，这种情况就是所谓的<strong>位扩展</strong>。</p>
<p>需要选取合适的芯片保证三个区的地址范围都被覆盖。比如系统程序区32K，则为该区选取的所有的ROM地址范围之和必须不小于32K。当所选取的ROM数量大于1时，这种情况就是所谓的<strong>字扩展</strong>。字扩展是这类题目最常考的考点，如果考试没有出现字扩展，那此题难度下降一半。</p>
<p>其次，连接数据线和低位地址线。</p>
<p>就数据线而言，因为前面说过原则是<strong>保证选取的ROM、RAM数据线不少于处理器的数据线</strong>，因此将两者直接对应着连起来就行，ROM、RAM可能会剩余数据线，这没关系；而处理器不能剩余数据线。</p>
<p>就低位地址线而言，如果涉及了字扩展，那么一定涉及<strong>片选信号的形成</strong>，也就是需要一套”逻辑”来判定何时选中扩展芯片1，何时选中另外的扩展芯片。我们将处理器的高位地址线参与片选信号的形成，处理器的低位地址线仍然与芯片的地址线直接相连即可。</p>
<p>最关键的是，关于片选信号的形成<sup><a href="#fn_1" id="reffn_1">1</a></sup>。</p>
<p>通常需要使用译码器（常见的是74LS138地址译码器，它的基本功能需要掌握，数字逻辑电路课程里面也有接触），将处理器高位地址线与74LS138译码器的输入端连起来，同时注意使能端的连线（否则74LS138译码器无法正常工作），将对应的$\bar{Y}_0,\bar{Y}_1,…,\bar{Y}_7$与参与字扩展的芯片使能端直接相连，或者经过与非门等逻辑门电路后再与芯片使能端相连。</p>
<p>最后是控制线的连接。</p>
<p>控制线，这里指的是处理器的控制引脚，比如常见的访存控制信号（$\overline{MREQ}$，表示低电平导通），读写信号（$\overline{WR}$，低电平导通）等。</p>
<p>再次强调，<strong>处理器的所有引脚（地址引脚、数据引脚、控制引脚）不允许悬空！</strong></p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>这个示例题之前出现在知识点总结里面过。以此为例大致说明怎么做这种题目。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130856193.png" alt="例题">{width=”0.6\\linewidth”}</p>
<p><strong>步骤1</strong>：写出题目给定的地址空间范围，用二进制表示：<br>系统程序区：$00\ 0000\ 0000\ 0000\ 0000B-00\ 0111\ 1111\ 1111\ 1111B$，$0 \sim 32767$，32K；<br>用户程序区：$00\ 1000\ 0000\ 0000\ 0000B-01\ 0111\ 1111\ 1111\ 1111B$，$32768\sim98303$，64K；<br>系统程序工作区：$11\ 1100\ 0000\ 0000\ 0000B-11\ 1111\ 1111\ 1111\ 1111B$，最大的16K。</p>
<p><strong>步骤2</strong>：选择存储芯片类型与数量</p>
<p>根据第一步已经分析出来的结果，得</p>
<ul>
<li>32K系统程序区：1片32K×8的ROM，</li>
<li>64K用户程序区：2片32K×8的RAM，</li>
<li>16K系统程序工作区：1片16K×8的RAM。</li>
</ul>
<p><strong>步骤3</strong>：连接好数据线和低位的地址线，这些只需要配对直接相连即可。比如此题中，</p>
<ul>
<li>对于选中的2片32K×8的RAM和1片32K×8的ROM，它们均有15个地址引脚，于是直接将CPU的$A_0 \sim A_{14}$与之相连；</li>
<li>对于16K×8的RAM，它有14个地址引脚，于是直接将CPU的$A_0\sim A_{13}$与之相连；</li>
<li>8条数据线直接相连。</li>
</ul>
<p><strong>步骤4</strong>：片选信号的形成</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857335.png" alt="地址范围">{width=”0.6\\linewidth”}</p>
<p>(注意，$A_{17},A_{16},\dots,A_0$均表示CPU的地址线)</p>
<p>借助74LS138地址译码器，高三位作为译码器的输入端。</p>
<p>对于32K的ROM、32K的RAM，CPU的高三位$A_{17},A_{16},A_{15}$参与片选信号的形成：由于32K的ROM有效地址范围前三位均为0，因此，将输出端$\bar{Y_0}$与32K的ROM片选信号端（<strong>芯片片选信号端低电平有效</strong>）相连，表示当$A_{17}=A_{16}=A_{15}=0$时，32K的ROM有效，被选中。</p>
<p>两块RAM的进行字扩展也是这个道理。将$\bar{Y_1}$与其中一块32K的RAM的片选信号端相连，而将$\bar{Y_2}$与另一块32K的RAM的片选信号端相连。</p>
<p>对于16K的RAM，CPU高四位$A_{17},A_{16},A_{15},A_{14}$均参与片选信号的形成，只有当以下两个条件同时成立，16K的RAM才被选中：<br>高三位地址均为1，也就是通过地址译码器输出了$\bar{Y_7}$；$A_{14}$也是1。</p>
<p>为此，我们将地址译码器的$\bar{Y_7}$先经过一个非门，然后再和$A_{14}$一起经过与非门，结果再和16K的RAM的片选信号端相连。</p>
<p><strong>步骤5</strong>：控制线的连接</p>
<p>很简单，清楚控制线的含义和导通规则（高电平有效还是低电平有效），直接相连即可。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857284.png" alt="例题参考答案">{width=”0.6\\linewidth”}</p>
<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><h4 id="习题1"><a href="#习题1" class="headerlink" title="习题1"></a>习题1</h4><p>设CPU有16根地址线、8根数据线，并用$\overline{MREQ}$作为访存控制信号（低电平有效）、${\overline{WR}}$作为读写控制信号（高电平为读，低电平为写）。现有73LS138译码器、各种门电路以及如下存储芯片：</p>
<p>RAM：1K×4位、4K×8位、8K×8位 ROM：2K×8位、4K×8位、8K×8位</p>
<p>请画出CPU和存储器的连接图，并指出存储芯片的种类及数量。其中要求主存的地址空间满足如下条件：</p>
<p>最小8K地址为系统程序区，与其相邻的16K地址为用户程序区，最大的4K地址空间为系统程序工作区。</p>
<h4 id="习题2"><a href="#习题2" class="headerlink" title="习题2"></a>习题2</h4><p>CPU以及其他芯片假设同习题1，主存地址空间分配为：6000H ~ 67FFH为系统程序区；6800H ~ 6BFFH为用户程序区；请画出CPU和存储的连接图，并指出存储芯片的种类及数量。</p>
<h4 id="习题3"><a href="#习题3" class="headerlink" title="习题3"></a>习题3</h4><p>某CPU有20根地址线，8根数据线，并用$\overline{MEMR}$和$\overline{MEMW}$<br>作为访存控制信号。由两片27256EPROM和两片62256SRAM构成一个8位存储器系统如下图所示。已知27256和62256均为32K×8位的存储芯片，问：<br>(1)图中采用何种译码方式形成存储器的片选信号；<br>(2)图中各存储芯片的地址范围为多少；<br>(3)图中还有多大的地址空间可以用于存储器扩展。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857992.png" alt="习题三">{width=”0.6\\linewidth”}</p>
<h4 id="习题4"><a href="#习题4" class="headerlink" title="习题4"></a>习题4</h4><p>设某计算机CPU有16根地址线（$A_{15},A_{14},\dots,A_0$，$A_0$为低位），16根数据线（$D_{15},D_{14},\dots,D_0$），并用$\overline{MREQ}$作为访存控制信号（低电平有效），$\overline{WR}$作为读/写控制信号（高电平为读命令，低电平为写命令）。现有下列存储芯片及各种门电路（门电路可自定）如图2所示，请画出CPU与存储芯片的连接图示，要求：<br>(1)存储芯片的地址空间分配为：最大32K为系统程序区；相邻16K为用户程序区；<br>(2)合理选用存储芯片，指出选用的存储芯片类型以及数量；<br>(3)详细画出存储芯片的片选逻辑。</p>
<h3 id="参考答案"><a href="#参考答案" class="headerlink" title="参考答案"></a>参考答案</h3><h4 id="习题1-1"><a href="#习题1-1" class="headerlink" title="习题1"></a>习题1</h4><p>见教材例题。</p>
<h4 id="习题2-1"><a href="#习题2-1" class="headerlink" title="习题2"></a>习题2</h4><p>见教材例题。</p>
<h4 id="习题3-1"><a href="#习题3-1" class="headerlink" title="习题3"></a>习题3</h4><p>(3)事实上，$A_{18},A_{19}$都已经与译码器的使能端相连，固定为01时，译码器才可以正常工作。因此，剩余的地址空间还有$2^{18}-4\times 32K  = 2^{18} - 2^{17} = 2^{17}$。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857695.png" alt="习题三参考答案">{width=”0.6\\linewidth”}</p>
<h4 id="习题4-1"><a href="#习题4-1" class="headerlink" title="习题4"></a>习题4</h4><p>地址分配情况如下。<br>用户程序区： <script type="math/tex">\begin{aligned}
            \mathbf{010}0\ 0000\ 0000\ 0000\\
            \cdots\\
            \mathbf{010}1\ 1111\ 1111\ 1111\\
            \mathbf{011}0\ 0000\ 0000\ 0000\\
            \cdots\\
            \mathbf{011}1\ 1111\ 1111\ 1111\\
        \end{aligned}</script>        系统程序区： <script type="math/tex">\begin{aligned}
            \mathbf{10}00\ 0000\ 0000\ 0000 \\
            \cdots\\
            \mathbf{10}11\ 1111\ 1111\ 1111\\
            \mathbf{11}00\ 0000\ 0000\ 0000 \\
            \cdots \\
            \mathbf{11}11\ 1111\ 1111\ 1111
        \end{aligned}</script></p>
<p>可见，</p>
<ul>
<li>对于32K的系统程序区，选取2片16K×16位的ROM；</li>
<li>对于16K的用户程序区，则选取2片8K×16位的RAM。</li>
</ul>
<p>关于高位地址，已经标粗，一种比较简单的做法是，将高位地址线$A_{15},A_{14},A_{13}$作为译码器变量输入端，参与形成两片RAM的片选信号（用户程序区的地址空间刚好除开直接与处理器地址线相连的低位地址线，还剩下3条高位地址线）；而对于ROM的片选信号，可以直接使用$A_{15},A_{14}$两条地址线，为10时选通第一片ROM，为11时选通第二片ROM。</p>
<p>如果将最高三位的地址线参与ROM的片选信号也可以。$A_{15},A_{14},A_{13}$为100、101时，选通第一片ROM；为110、111时，选通第二片ROM。而前者译码器的$\bar{Y}_4,\bar{Y}_5$输出为01或者10，后者译码器的$\bar{Y}_6,\bar{Y}_7$输出为01或者10。根据这个特点，可以用异或结果，通过非门得到低电平，选通ROM即可。具体的逻辑图不妨自行尝试。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857856.jpg" alt="习题四连接图示">{width=”0.6\\linewidth”}</p>
<h2 id="Cache与主存的编址题"><a href="#Cache与主存的编址题" class="headerlink" title="Cache与主存的编址题"></a>Cache与主存的编址题</h2><h3 id="基础知识-1"><a href="#基础知识-1" class="headerlink" title="基础知识"></a>基础知识</h3><p>该考点涉及Cache出现原因、设计结构、工作原理等知识点。</p>
<h4 id="高速缓存存储器Cache"><a href="#高速缓存存储器Cache" class="headerlink" title="高速缓存存储器Cache"></a>高速缓存存储器Cache</h4><p>为了解决”<strong>主存储器的速度始终赶不上处理器的速度</strong>“这一问题，在<strong>主存和处理器之间增加一级高速缓冲存储器Cache</strong>是一种非常有效的办法。 Cache一般采用SRAM实现，虽然容量小于主存容量，但是速度大大高于基于动态RAM的大容量主存。</p>
<h4 id="Cache的工作原理"><a href="#Cache的工作原理" class="headerlink" title="Cache的工作原理"></a>Cache的工作原理</h4><p>由于Cache是对主存中块的”暂存”以提高访存速度，因此，Cache中需要记录下来究竟记录到了主存的哪一块内容、主存中也需要记录它到Cache的映射情况。</p>
<p>在正式介绍主存和Cache的编址之前，你也许注意到上面的描述中经常出现”块”而不是字节、字等其他单位。是的，<strong>若干存储单元组成了一个数据块，而内存与Cache之间进行数据交换时，正是以块为单位。</strong></p>
<p>所谓主存和Cache的编址，实际上就是对主存中的块映射到Cache中的记录，根据映射方式的不同，编址方式也不尽相同。常见的映射方式有三种：<strong>直接映射、全相联映射和组相联映射</strong>。</p>
<p>直接映射，按照公式$i=j\ mod\ 2^c$进行映射，其中j表示主存中的字块号，i表示Cache中的字块号。示意图如下。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857791.png" alt="直接映射">{width=”0.6\\linewidth”}</p>
<p>为了更清楚地展示映射过程，此处标明了不同的组，这些组按照主存中的块号与$2^c$作整除运算所得到的整数商进行分类，而$2^c$正是Cache的字块总数。换言之，同组内部的每一个字块整除以$2^c$得到的商都相同。另外，正如图中连线所示，所有模$2^c$所得的余数相同的字块映射到Cache中的同一个字块。那如何准确地表示出Cache中的某一个字块到底来自主存中的哪一个？故需要保存主存块号（共$2^m$块）除以$2^c$所得到的商和余数，前者决定它来自哪一个组（$2^{m-c}=2^t$）、后者决定它映射到Cache中的位置（共$2^c$块）。</p>
<p>最后再解释字块内地址b。之前提过，Cache与主存进行数据交换均以字块为基本单位，一个数据块包含多个存储单元。而这b位的地址正是用于单个块内部寻址：找到具体是哪个存储单元。</p>
<p>全相联映射，相比于直接映射，取消了按模公式进行映射所具有的”固定性”，采取了更加随机的映射方式：对于主存中的任意一个字块，它可以映射到Cache中的任意位置。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857735.png" alt="全相联映射">{width=”0.6\\linewidth”}</p>
<p>主存地址格式解释起来比较简单，因为字块总数就是$2^m$，自然主存字块标记（主存字块地址）有m位。而对于Cache的编址，可以发现较之于直接映射，Cache标记位不再是t，而是m，因为Cache中的任意一个字块可以对应着主存$2^m$个字块中的任意一个。</p>
<p>组相联映射实际上是直接映射和全相联映射的结合。将Cache划分为若干组，每组内有若干字块。对于所有的组，按照直接映射；而每一个组内，按照全相联映射。另外请注意，这里的”组”与上文”直接映射”中的”组”含义不同，后者只是笔者方便描述而临时起意。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130857007.png" alt="组相联映射">{width=”0.6\\linewidth”}</p>
<p>组相联下的主存地址格式由三部分组成。由于Cache中的组数为$\frac{2^c}{2^r}=2^{c-r}$，则组地址有$q=c-r$位；而每一个组内由于是全相联映射，可以对应主存中的$\frac{2^m}{2^{c-r}}=2^{m-c+r}$个块，因此Cache中的字块标记位有s=m-c+r位，主存地址中同样有此s=m-c+r位地址。对于Cache地址，由于总共的字块数量为$2^c$，字块地址用c位表示。另外的字块内地址上文提过，不再赘述。<sup><a href="#fn_2" id="reffn_2">2</a></sup></p>
<h3 id="考点概述-1"><a href="#考点概述-1" class="headerlink" title="考点概述"></a>考点概述</h3><p>这种类型的题目往往会给出主存容量和Cache的容量，以及每一个字块的大小。同时需要明确访存地址到底是字地址还是字节地址，这个直接影响到字块内地址的位数。一般地，需要根据给出的主存容量、Cache容量计算出主存中的字块总数和Cache中的字块总数，这样也可以得到两者的字块地址位数。然后根据题目指定的映射方式，给出各个段的位数。下面以具体的例子进行描述。</p>
<h3 id="示例-1"><a href="#示例-1" class="headerlink" title="示例"></a>示例</h3><p>假设主存容量为512K×16位，Cache容量为4096×16位，块长为4个16位的字，访存地址为字地址。请回答： (1)在直接映射方式下，设计主存的地址格式。 </p>
<p>(2)在全相联映射方式下，设计主存的地址格式。 </p>
<p>(3)在二路组相联映射方式下，设计主存的地址格式。</p>
<p> (4)若主存容量变为512K×32位，块长不变，在四路组相联映射方式下，设计主存的地址格式。</p>
<p>解析：注意访存地址是字，而块长为4个16位的字，则块内字地址位数即为b=$\log_24=2$；我们将Cache容量转换为以”块”为单位，即$\displaystyle\frac{4096\times 16}{4\times 16}=1024=2^{10}$块，因此Cache的字块地址位数c=10。接下来考虑主存中的字块总数：$\displaystyle\frac{512K \times 16}{4\times 16}=2^{17}$，因此主存字块地址位数m=17。</p>
<p>(1)直接映射下的主存地址格式有三部分：主存字块标记，Cache字块地址，字块内地址。后两者分别为c=10位、b=2位。主存字块标记位数即为m-c=7位。事实上，直接映射下的主存字块根据公式$i\% j$进行映射时，此处的j=$2^c=2^{10}$，故主存中映射到Cache中同一个字块的字块总数即为$\displaystyle\frac{2^m}{2^c}=\frac{2^{17}}{2^{10}}=2^7$，故主存字块标记位数t=7。 (主存字块标记7位，Cache字块地址10位，字块内地址2位)</p>
<p>(2) 全相联映射下的主存地址格式有两部分：主存字块标记，字块内地址。由于是随机性的映射，对于Cache中的某一字块，主存中的任意一块都可以映射到该处，故主存字块标记位数就是m=17。 (主存字块标记17位，字块内地址2位)</p>
<p>(3) 二路组相联映射下，Cache中每组有2块（r=1），此时主存地址格式有三部分：主存字块标记，组地址，字块内地址。一种很方便的思考思路是，算出Cache中的组数$\displaystyle\frac{2^c}{2^r}=\frac{2^{10}}{2^1}=2^9$，则组地址位数为q=9；然后直接用主存字块地址位数m减去q即为主存字块标记位数s=m-q=17-9=8。 (主存字块标记8位，组地址9位，字块内地址2位)</p>
<p>(4) 同样地，先算出主存字块总数以及主存字块地址位数：$\displaystyle\frac{512K\times 32}{4\times 16}=2^{18}$块，主存字块地址位数变为m’=18。Cache中的组数变为$\displaystyle\frac{2^{10}}{2^2}=2^8$，故主存地址中的组地址位数为q’=8，主存字块标记位数为m’-q’=18-8=10。由于字块长不变，则字块内地址仍为b=2。 (主存字块标记10位，组地址8位，字块内地址2位)</p>
<h3 id="练习-1"><a href="#练习-1" class="headerlink" title="练习"></a>练习</h3><h4 id="习题1-2"><a href="#习题1-2" class="headerlink" title="习题1"></a>习题1</h4><p>假设主存容量为512KB，Cache容量为4KB，每个字块为16个字，每个字32位。访存地址为字节地址，请问：<br>(1) Cache地址有多少位？可容纳多少块？<br>(2)主存地址有多少位？可容纳多少块？<br>(3)在直接映射方式下，主存的第几块映射到Cache中的第5块（设起始字块为第1块）？<br>(4)画出直接映射方式下主存地址字段中各段的位数。</p>
<h4 id="习题2-2"><a href="#习题2-2" class="headerlink" title="习题2"></a>习题2</h4><p>设某计算机主存容量为16MB，Cache的容量为8KB。每一个字块有8个字，每字32位。若访存单位为字节，请设计一个四路组相联映射的Cache组织：<br>(1)画出主存地址字段中各段的位数。<br>(2)设Cache初态为空，CPU依次从主存第0,1,2,...,99号单元读出100个字（主存一次读出一个字），并重复此次序读10次，试求命中率。<br>(3)若Cache的速度是主存速度的5倍，在第二问的基础上，请问有Cache和无Cache相比，速度提高了多少倍？</p>
<h4 id="习题3-2"><a href="#习题3-2" class="headerlink" title="习题3"></a>习题3</h4><p>设某计算机的主存容量为256K×32位，Cache容量为64K×32位，块长为32个32位的字，且规定主存和Cache都按照字编址，请回答：<br>(1) 主存地址共计有多少位？可容纳多少个块？<br>(2)Cache地址共计有多少位？可容纳多少个块？<br>(3)若采用全相联映射方式，画出主存的地址格式，并指出各段的位数。</p>
<h4 id="习题4-2"><a href="#习题4-2" class="headerlink" title="习题4"></a>习题4</h4><p>假设某机的主存容量为4MB，Cache容量为16KB，每个字块有16个字，每个字有32位。规定访存地址为字地址，请回答一下问题。<br>(1)若Cache采取直接映射，请画出主存地址字段中各段的位数。<br>(2)若Cache采取四路组相联映射，请画出主存地址中各段的位数。</p>
<h3 id="参考答案-1"><a href="#参考答案-1" class="headerlink" title="参考答案"></a>参考答案</h3><h4 id="习题1-3"><a href="#习题1-3" class="headerlink" title="习题1"></a>习题1</h4><p>(1)由于访存地址为字节地址，而$4KB=2^{12}B$，因此Cache地址有c+b=12位。总共的字块数量为$\displaystyle \frac{4KB \times 8}{16\times 32} = 2^6$，c=6。<br>(2)由于$512KB = 2^{19}B$，因此主存地址位数为m+b=19位。总共的字块数量为$\displaystyle\frac{512KB\times 8}{16\times 32} = 2^{13}$，m=13。\<br>(3)主存一共有$2^{13}$块，而Cache一共$2^6$块，则$\displaystyle \frac{2^{13}}{2^6}=2^7$，故主存中映射到Cache中的第5块的块号为$5+i\times 2^6,\ i\in \{0,1,\dots,2^7-1\}$。\<br>(4) (主存字块标记7位，Cache字块地址6位，块内地址6位)。</p>
<h4 id="习题2-3"><a href="#习题2-3" class="headerlink" title="习题2"></a>习题2</h4><p>(1)由$\displaystyle\frac{8\times 32}{8}=2^5$，得字块内地址位数b=5。计算得出主存字块总数为$2^{19}$，而Cache字块总数为$2^{8}$块，故组数为$2^{6}$，组地址位数q=6，主存地址格式为：(主存字块标记13位，组地址6位，字块内地址5位)\<br>(2)每一个字块有8个字，初始状态时，CPU读入第0号单元，没有命中，此时必须访问主存，并且将主存中该字所在的字块调入Cache第0组的任意一块内。接着，CPU读取第1、2、…、7号单元时，均命中（属于同一个字块）。</p>
<p>以此类推，CPU读取第8、16、...、96号单元时，均未命中。因此，CPU第一次连续读出100个字时，共有13次未命中。而接下来的9次重复读操作，全部命中。计算命中率为</p>
<script type="math/tex; mode=display">\displaystyle \frac{100 \times 10 - 13}{100 \times 10} \approx 98.7\%</script><p>(3)假设Cache的存取周期为t，则主存的存取周期为5t，没有Cache时，访问时间为$5t \times 1000$，有Cache时，访问时间为$t \times (1000-13) + 5t \times 13$，因此后者相比于前者速度提高的倍数为</p>
<script type="math/tex; mode=display">\displaystyle \frac{5t \times 1000}{t\times (1000-13)+5t\times 13} - 1 \approx 3.75</script><h4 id="习题3-3"><a href="#习题3-3" class="headerlink" title="习题3"></a>习题3</h4><p>(1)<br>主存容量$\displaystyle\frac{256K \times 32}{32} = 2^{18}$字，故主存地址总位数m+b=18，而$\displaystyle\frac{256K \times 32}{32 \times 32} = 2^{13}$块，故可以容纳$2^{13}$个块。<br>(2)<br>Cache容量$\displaystyle\frac{64K \times 32}{32} = 2^{16}$字，故Cache地址总数为16，而$\displaystyle\frac{64K \times 32}{32 \times 32} = 2^{11}$块，故可以容纳$2^{11}$个块。<br>(3)<br>全相联下的主存地址有两部分。其中主存字块标记位数m=13，字块内地址位数b=5。</p>
<h4 id="习题4-3"><a href="#习题4-3" class="headerlink" title="习题4"></a>习题4</h4><p>主存字块总数为$\displaystyle\frac{4MB}{16\times 4B}=2^{16}$块，则m=16；Cache字块总数为$\displaystyle\frac{16KB}{16\times 4B}= 2^8$块，则c=8。<br>(1)<br>每一个字块有16个字，则字块内地址位数b=4。而m=16，c=8，t=m-c=8，主存地址格式为：(主存字块标记8位，Cache字块地址8位，字块内地址4位)。<br>(2)<br>组数为$\displaystyle\frac{2^8}{2^2}=2^6$，组地址位数q=6，则主存字块标记位数s=m-q=10位。因此主存地址格式为：(主存字块标记10，组地址6位，字块内地址4位)</p>
<h2 id="计算机中数据的加减运算"><a href="#计算机中数据的加减运算" class="headerlink" title="计算机中数据的加减运算"></a>计算机中数据的加减运算</h2><h3 id="基础知识-2"><a href="#基础知识-2" class="headerlink" title="基础知识"></a>基础知识</h3><p>该考点属于第6章《计算机的运算方法》。涉及四种机器码的表示、计算机中浮点数的四则运算。这里只关注加减运算，乘除运算另外单独介绍。</p>
<h4 id="机器码"><a href="#机器码" class="headerlink" title="机器码"></a>机器码</h4><p>为了方便计算机运算，人们将形如10、-35这样的十进制真值用机器码表示。常见的四种机器码为<strong>原码，反码，补码，移码</strong>。这四种机器码与真值的相互转换以及它们之间的转换，请务必掌握，可以参考基本知识点梳理，这里简单给出四种机器码的求法。</p>
<p>给出真值$x=–0101011B$，则（整数位数n默认为7）</p>
<p>原码表示为$[x]_{true} = 1,0101011$（加上符号位，正数符号位为0，负数符号位为1）</p>
<p>反码表示为$[x]_{inv} = 1,1010100$（在原码基础上，符号位不变，数值部分按位取反）</p>
<p>补码表示为$[x]_{com} = 1,1010101$（在反码基础上，符号位不变，数值部分加一）</p>
<p>移码表示为$[x]_{shift} = 0,1010101$（在真值基础上，加上$2^n$；或者简记为补码基础上仅将符号位取反，其余不变）</p>
<h4 id="定点数的加减运算"><a href="#定点数的加减运算" class="headerlink" title="定点数的加减运算"></a>定点数的加减运算</h4><p>定点数的加减运算比较简单，将参与运算的定点数全部转化为补码，然后进行运算，因为对于任意真值$x,y$，下式成立</p>
<script type="math/tex; mode=display">[x+y]_{\mbox{补}} = [x]_{\mbox{补}} + [y]_{\mbox{补}}</script><script type="math/tex; mode=display">[x-y]_{\mbox{补}} = [x]_{\mbox{补}} + [-y]_{\mbox{补}}</script><p>对于减法，也连同负号将负数转化为补码，进行补码加法运算。</p>
<p>可能出现的一种情况是，运算之后结果溢出。为了判断是否发生溢出，有两种常用的方法。</p>
<p>一种是用一位符号位判断溢出。这种情况可以参考教材第239页表6.7。</p>
<p>另一种是用两位符号位判断溢出。这种情况下，需要将参与运算的真值全部转换为带2位符号位的变形补码，然后将其相加。2位符号位连同数值部分一起参与运算，且高位符号位产生的进位自动丢失。<strong>当2位符号位不同时，结果溢出，否则无溢出。</strong>这种情况的示例可以参考教材第240页例6.14、6.15、6.16。</p>
<h4 id="浮点数的加减运算"><a href="#浮点数的加减运算" class="headerlink" title="浮点数的加减运算"></a>浮点数的加减运算</h4><p>浮点数相比于定点数形式上有差异。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130905660.png" alt="浮点数的格式">{width=”0.6\\linewidth”}</p>
<p>通常地，浮点数被表示为$N=M\times R^E$，其中M为尾数，用一个定点小数表示，通常需要规格化，<strong>即尾数的真值绝对值在0到1之间；若为原码则数值部分第一位必须为1；若为补码则符号位和数值部分第一位不同</strong>；R为基值，一般取2；E为阶码，表示基值的幂。尾数和阶码都是有符号位的，分别用尾符和阶符指代。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>真值或机器码</th>
<th>M为正</th>
<th>M为负</th>
</tr>
</thead>
<tbody>
<tr>
<td>真值</td>
<td>0.1XXXXX</td>
<td>-0.1XXXXX</td>
</tr>
<tr>
<td>原码</td>
<td>0.1XXXXX</td>
<td>1.1XXXXX</td>
</tr>
<tr>
<td>补码</td>
<td>0.1XXXXX</td>
<td>1.0XXXXX</td>
</tr>
<tr>
<td>反码</td>
<td>0.1XXXXX</td>
<td>1.0XXXXX</td>
</tr>
</tbody>
</table>
</div>
<p>浮点数加减运算的步骤如下。<br>(1)<strong>对阶</strong>：是为了将两个操作数的小数点位置对齐，即使得两个数的阶码一致。遵循<strong>小阶向大阶看齐原则</strong>，阶码小的浮点数尾数右移，从而阶码增大。<sup><a href="#fn_3" id="reffn_3">3</a></sup><br>(2)<strong>尾数求和</strong>：对接完成后，两个尾数可以按照定点数的加减运算规则直接求和；<br>(3)规格化；<br>(4)舍入；<br>(5)判断结果：判断结果是否溢出。</p>
<h3 id="示例-2"><a href="#示例-2" class="headerlink" title="示例"></a>示例</h3><p>两浮点数$x=0.1101\times 2^{01}, y=(-0.1010)\times 2^{11}$，求x+y，要求给出详细的运算过程。</p>
<p>第一步：对阶。</p>
<p>首先，将给出的两浮点数写成补码形式： <script type="math/tex">[x]_{com} = 00,01;00.1101</script></p>
<script type="math/tex; mode=display">[y]_{com} = 00,11;11.0110$$ 求出两者阶差：
$$[\Delta_j]_{com} = [j_x]_{com} - [j_y]_{com} = 00,01 + 11,01 = 11,10</script><p>故$\Delta_j = -2$，表示x的阶码比y的阶码小。根据小阶向大阶看齐原则，将x进行变换：</p>
<script type="math/tex; mode=display">[x]_{com} = 00,01;00.1101 = 00,11;00.0011</script><p>第二步：尾数求和。</p>
<p>已经得到： <script type="math/tex">[x]_{com} = 00,11;00.0011</script> <script type="math/tex">[y]_{com} = 00,11;11.0110</script><br>尾数相加，阶码不变，得到结果： <script type="math/tex">[x+y]_{com} = 00,11;11.1001</script></p>
<p>第三步：规格化。</p>
<p>观察补码结果$11.1001$，它并不是一个规格化数，原因是补码规格化数的符号位和数值部分第一位相异，而此处均为1。规格化分为两种：<strong>左规</strong>和<strong>右规</strong>，前者针对尾数过小的情况，后者针对尾数过大的情况。</p>
<p><strong>当结果出现00.0XXXXX...或者11.1XXXXX...时，需要左规</strong>。尾数左移（即小数点右移）变大，阶码减小。每移动一位，阶码减一。</p>
<p><strong>当结果（溢出）出现01.XXXXX...或者10.XXXXX...时，需要右规</strong>。尾数右移（即小数点左移）变小，阶码增大。每移动一位，阶码加一。</p>
<p>因此，此处对于结果<script type="math/tex">[x+y]_{com} = 00,11;11.1001</script>，它需要进行左规。尾数左移一位即可，得到结果：</p>
<script type="math/tex; mode=display">[x+y]_{com} = 00,10;11.0010$$ 把它用真值表示为$(-0.1110)\times 2^{10}$

第四步：舍入。

舍入操作根据题目要求来，它主要是为了提高精度，因为右规过程可能带来精度损失问题。通常分为两种：一种是**"0舍1入"法**，类似十进制下的"四舍五入法"，即尾数右移一位时，若舍弃的末位为0，则直接舍去；若为1，则右移一位后，在尾数末位加上1。另一种是**恒置1法**，即尾数右移时，无论舍弃的末位是0还是1，都使右移后的尾数末位恒置1。
比如$11,100;10.110001$，显然它需要右规。采取"0舍1入"法，尾数右移一位后得到$11,101;11.011000$，原先的最末位1被舍弃，于是把当前的尾数加上1得到最终结果$$11,101;11.011001</script><h3 id="练习与解答"><a href="#练习与解答" class="headerlink" title="练习与解答"></a>练习与解答</h3><h4 id="习题1-4"><a href="#习题1-4" class="headerlink" title="习题1"></a>习题1</h4><p>选择题<br>1.在机器码()中，零的表示形式是唯一的。B<br>A.原码<br>B.补码<br>C.反码<br>D.原码和补码<br>2.设寄存器内容为10000000，若它等于-0，则为()。A<br>A.原码<br>B.补码<br>C.反码<br>D.移码<br>3.浮点数的表示范围和精度取决于()。C<br>A.阶码的位数和尾数的机器数形式<br>B.阶码的机器数形式和尾数的位数<br>C.阶码的位数和尾数的位数<br>D.阶码的机器数形式和尾数的机器数形式<br>4.若浮点数用补码表示，则判断运算结果为规格化数的要求是()。C<br>A.阶符与数符相同<br>B.阶符与数符相异<br>C.数符与尾数小数点后第一位数字相异<br>D.数符与尾数小数点后第一位数字相同</p>
<h4 id="习题2-4"><a href="#习题2-4" class="headerlink" title="习题2"></a>习题2</h4><p>设x=$\displaystyle-\frac{11}{16}$，y=$\displaystyle-\frac{7}{16}$，试计算x+y，并判断是否发生溢出。<br>解答：x = -0.1011,y =-0.0111,用双符号位判断溢出法，则$[x]_{\mbox{补}} = 11.0101,[y]_{\mbox{补}} = 11.1001$，<script type="math/tex">[x+y]_{\mbox{补}} = [x]_{\mbox{补}}+[y]_{\mbox{补}} = 10.1110</script>，双符号位相异，因此结果溢出。</p>
<h4 id="习题3-4"><a href="#习题3-4" class="headerlink" title="习题3"></a>习题3</h4><p>设浮点数的格式为：阶码5位，其中含1位阶符；尾数11位，其中含1位尾符。请分别写出下面两种情况下，$\displaystyle\frac{51}{128},7.375,-86.5$所对应的机器数：<br>(1)阶码和尾数均为补码； (2)阶码为移码，尾数为补码。 </p>
<p>先将给出的三个数化为二进制形式与浮点数规格数形式：</p>
<script type="math/tex; mode=display">\displaystyle\frac{51}{128} = 0.0110011B = 0.110011B \times 2^{-1B}</script><script type="math/tex; mode=display">7.375 = 111.011B = 0.111011B \times 2^{11B}</script><script type="math/tex; mode=display">-86.5 = -1010110.1B = -0.10101101B \times 2^{111B}</script><ol>
<li><script type="math/tex; mode=display">\displaystyle\frac{51}{128} = 1,1111;0.1100110000</script><script type="math/tex; mode=display">7.375 = 0,0011;0.1110110000$$ $$-86.5 = 0,0111;1.0101001100</script></li>
<li><script type="math/tex; mode=display">\displaystyle\frac{51}{128} = 0,1111;0.1100110000</script><script type="math/tex; mode=display">7.375 = 1,0011;0.1110110000$$ $$-86.5 = 1,0111;1.0101001100</script></li>
</ol>
<h4 id="习题4-4"><a href="#习题4-4" class="headerlink" title="习题4"></a>习题4</h4><p>已知两个二进制形式的真值X=-100101和Y=-101101，将其分别存放在计算机的8位字长的寄存器中，且最高两位为符号位。请用补码”双符号位”加减运算规则计算$[X+Y]_{\mbox{补}}$，并判断结果是否发生溢出。<br>解答：求出双符号位下的补码：</p>
<script type="math/tex; mode=display">[X]_{\mbox{补}}=11.011011</script><script type="math/tex; mode=display">[Y]_{\mbox{补}}=11.010011</script><p>而$[X+Y]_{\mbox{补}} = [X]_{\mbox{补}}+[Y]_{\mbox{补}} = 10.101110$，结果双符号位相异，溢出。</p>
<h4 id="习题5"><a href="#习题5" class="headerlink" title="习题5"></a>习题5</h4><p>已知x=-0.1011，y=0.0101，要求计算：(1)x+y，(2)x-y，并给出具体的计算过程，同时指出结果是否溢出。<br>解答：</p>
<script type="math/tex; mode=display">[x]_{\mbox{补}} = 11.0101$$ $$[y]_{\mbox{补}} = 00.0101</script><script type="math/tex; mode=display">[-y]_{\mbox{补}} = 11.1011$$ 因此，
$$[x+y]_{\mbox{补}} = [x]_{\mbox{补}}+[y]_{\mbox{补}} = 11.1010</script><script type="math/tex; mode=display">[x-y]_{\mbox{补}} = [x]_{\mbox{补}}+[-y]_{\mbox{补}} = 11.0000</script><p>则x+y=-0.0110,x-y=-1。</p>
<h4 id="习题6"><a href="#习题6" class="headerlink" title="习题6"></a>习题6</h4><p>已知两浮点数x=$0.1101\times 2^{10}$，y=$0.1011\times 2^{01}$，求x+y。请写出详细的运算过程。</p>
<p>解答：见教材第271页例6.29。</p>
<h2 id="计算机中数据的乘除运算"><a href="#计算机中数据的乘除运算" class="headerlink" title="计算机中数据的乘除运算"></a>计算机中数据的乘除运算</h2><h3 id="基础知识-3"><a href="#基础知识-3" class="headerlink" title="基础知识"></a>基础知识</h3><p>紧承考点”计算机中数据的加减运算”，乘除运算相对而言更加复杂。这一部分会尽量从考点角度出发，介绍数据乘除法的运算过程。当然为了简单起见，只介绍定点数的乘除运算，浮点数的乘除运算可以类比完成。</p>
<h4 id="乘法"><a href="#乘法" class="headerlink" title="乘法"></a>乘法</h4><p>首先来分析一下二进制下的竖式计算乘法过程。</p>
<p>假设两二进制乘数M=-0.1101，N=0.1011，我们列竖式计算它们的乘积，过程如图。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130906491.png" alt="二进制下的竖式乘法">{width=”0.6\\linewidth”}</p>
<p>可见，先忽略符号位，单独计算数值的乘法，然后再给结果加上符号。然而，计算机却很难如此实现乘法运算。为了探求计算机作乘法运算的原理，我们先做如下推导。</p>
<script type="math/tex; mode=display">
\begin{aligned}
        M\times N &= M\times 0.1011 \\ &= M\times (0.1+0.00+0.001+0.0001) \\ &= 0.1M+0.00M+0.001M+0.0001M \\ &= 0.1M+0.00M+0.001(M+0.1M) \\ &= 0.1M+0.01[0M+0.1(M+0.1M)] \\ &= 0.1\{ M+0.1[0M+0.1(M+0.1M)] \} \\ &= 
        2^{-1}\{ M+2^{-1}[0M+2^{-1}(M+2^{-1}(M+0))] \}
    \end{aligned}</script><p>上述推导中，$2^{-1}$可以看作右移运算，因此，原始的竖式计算可以改进为如下算法：</p>
<p><strong>输入</strong>：（二进制下）被乘数$M=0.m_1m_2\dots m_{k}$，乘数$N=0.n_1n_2\dots n_{k}$<sup><a href="#fn_4" id="reffn_4">4</a></sup></p>
<p><strong>输出</strong>：M与N的乘积</p>
<ol>
<li>定义”部分积”，初始化为0；</li>
<li>定义循环变量t=0；</li>
<li>部分积 $\gets$ 部分积+被乘数M×乘数N的最后一位$n_{k}$；</li>
<li>部分积和乘数均右移一位，且部分积右移的一位补充到乘数N小数点后第一位$n_1$；</li>
<li>t $\gets$ t+1；</li>
<li>当t$\ge$k时，跳转至第7步，否则跳转至第3步；</li>
<li>将当前部分积和乘数拼接起来，作为最终结果输出。</li>
</ol>
<p>总的来说，改进后的乘法运算，是部分积不断加上被乘数和乘数末位、然后不断右移的过程。由于乘数一共有k位，这个过程（加、右移）循环执行k次，而乘数也会不断地右移，因此经过k次循环后，乘数的每一位（$n_i,i\in \{ k,k-1,\dots,1 \}$）都参与了与被乘数的运算。</p>
<p>接下来将介绍的内容包括原码一位乘法、原码二位乘法、补码一位乘法和Booth乘法，有兴趣者可以自行探究补码二位乘法。</p>
<h4 id="原码一位乘法"><a href="#原码一位乘法" class="headerlink" title="原码一位乘法"></a>原码一位乘法</h4><p>对于原码一位乘法，只需单独将两个数的符号位作异或运算得到乘积符号位，两个数的数值部分（也即原乘数的绝对值）按上述过程作乘法运算即可。总结起来有如下特点：</p>
<ol>
<li>采取绝对值运算；</li>
<li>用移位次数判定乘法是否结束；</li>
<li>部分积和乘数均采取逻辑右移位；</li>
<li>属于机器数乘法中最简单、最基础的一种</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130908466.png" alt="原码一位乘法示例">{width=”0.6\\linewidth”}</p>
<h4 id="原码二位乘法"><a href="#原码二位乘法" class="headerlink" title="原码二位乘法"></a>原码二位乘法</h4><p>和一位乘法类似地，原码的二位乘法即每次用被乘数和乘数的最末两位作乘法，然后与部分积相加得到新的部分积。四种两位二进制数的情况见表1。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>最末两位二进制数</th>
<th>十进制</th>
<th>新的部分积</th>
</tr>
</thead>
<tbody>
<tr>
<td>00</td>
<td>0</td>
<td>加上0</td>
</tr>
<tr>
<td>01</td>
<td>1</td>
<td>加上一倍的被乘数</td>
</tr>
<tr>
<td>10</td>
<td>2</td>
<td>加上两倍的被乘数</td>
</tr>
<tr>
<td>11</td>
<td>3</td>
<td>加上三倍的被乘数</td>
</tr>
</tbody>
</table>
</div>
<p>需要注意的是，加上三倍的被乘数操作并不易实现。因此，<strong>遇到11时，先减去一倍的被乘数，然后再加上四倍的被乘数</strong>。具体在运算时，需要考虑更高的两位——将当前减去的”一倍”交给更高的两位处理。我们仍以被乘数$M=0.m_1m_2\dots m_{k}$，乘数$N=0.n_1n_2\dots n_{k}$为例，并约定部分积用z表示，在表2中给出原码二位乘法的运算规则。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>较高两位$n_{k-3}n_{k-2}$、乘数判断位$n_{k-1}n_k$</th>
<th>标志位$C_j$</th>
<th>操作内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>xx00</td>
<td>0</td>
<td>z$\gets$z>>2，N>>2，标志位保持0</td>
</tr>
<tr>
<td>xx01</td>
<td>0</td>
<td>z$\gets$(z+1M)>>2，N>>2，标志位保持0</td>
</tr>
<tr>
<td>xx10</td>
<td>0</td>
<td>z$\gets$(z+2M)>>2，N>>2，标志位保持0</td>
</tr>
<tr>
<td>xx11</td>
<td>0</td>
<td>z$\gets$(z-1M)>>2，N>>2，标志位置1</td>
</tr>
<tr>
<td>0011</td>
<td>1</td>
<td>z$\gets$(z+1M)>>2，N>>2，标志位置0</td>
</tr>
<tr>
<td>0111</td>
<td>1</td>
<td>z$\gets$(z+2M)>>2，N>>2，标志位置0</td>
</tr>
<tr>
<td>1011</td>
<td>1</td>
<td>z$\gets$(z-1M)>>2，N>>2，标志位保持1</td>
</tr>
<tr>
<td>1111</td>
<td>1</td>
<td>z$\gets$z>>2，N>>2，标志位保持1</td>
</tr>
</tbody>
</table>
</div>
<p>可见，原码二位乘法相比于一位乘法有几处细微的差异：首先，出现了减法，而之前在数据加减法中提过，<strong>将减法转化为补码加法</strong>，因此，<strong>参与原码二位乘法运算的操作数应该是绝对值的补码</strong>；而运算中的右移两位操作均遵循<strong>补码右移</strong><sup><a href="#fn_5" id="reffn_5">5</a></sup>规则。另外，部分积加上两倍的被乘数时，其绝对值可能大于2，因此采用<strong>三位符号位</strong>，才能保证运算结果无误（以最高位作为真正的符号位）。再者，对于乘数的符号位，如果乘数小数点后位数为奇数，则采用单符号位，且运算时最后部分积作加法运算后需要移位；反之则采用双符号位，最后一步部分积不移位。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130909980.png" alt="原码二位乘法示例">{width=”0.6\\linewidth”}</p>
<p>因此，原码二位乘法特点总结如下：</p>
<ol>
<li>采取原操作数的绝对值的补码运算；</li>
<li>用移位次数判断乘法是否结束；</li>
<li>部分积和乘数均采取算术右移位（补码移位）。</li>
</ol>
<h4 id="补码一位乘法"><a href="#补码一位乘法" class="headerlink" title="补码一位乘法"></a>补码一位乘法</h4><p>补码一位乘法的运算规则基本和原码一位乘法相同。但是差异如下：</p>
<ol>
<li>如果乘数是正数，那么加法和移位均按照补码规则进行运算，且<strong>乘积的符号位自然形成</strong>，这一点和原码乘法极为不同；</li>
<li>如果乘数是负数，那么将其符号位置0，然后按照正数如上处理，但是最后<strong>需要加上被除数的相反数的补码进行校正</strong>。</li>
</ol>
<p>总结如下：</p>
<p>对于（二进制下补码）被乘数$M=m_0.m_1m_2\dots m_{k}$，乘数$N=n_0.n_1n_2\dots n_{k}$，</p>
<p>$[M\times N] = [M] \times [N] = [M] \times N,  \mathbf{N&gt;0}.$</p>
<p>$[M\times N] = [M] \times (0.n_1n_2\dots n_k) + [-M], \mathbf{N&lt;0}$</p>
<p>我们以补码1.0101和0.1101作乘法运算进行演示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130910514.png" alt="补码一位乘法">{width=”0.6\\linewidth”}</p>
<h4 id="Booth乘法"><a href="#Booth乘法" class="headerlink" title="Booth乘法"></a>Booth乘法</h4><p>Booth乘法将补码一位乘法统一了起来。对于（二进制下补码）被乘数$M=m_0.m_1m_2\dots m_{k}$，乘数$N=n_0.n_1n_2\dots n_{k}$，对其补码乘法运算进行如下数学推导。注意，为了统一形式，我们给乘数N添加一位附加位$n_{k+1}=0$。</p>
<script type="math/tex; mode=display">
\begin{aligned}
        M\times N &= M\times(0.n_1n_2\dots n_k)-M\times n_0 \\
        &=M\times (2^{-1}n_1+2^{-2}n_2+\dots+2^{-k}n_k) - M\times n_0 \\
        &=M\times (-n_0+2^{-1}n_1+2^{-2}n_2+\dots+2^{-k}n_k) \\
        &=M\times [-n_0+(n_1-2^{-1}n_1)+(2^{-1}n_2-2^{-2}n_2)+\dots+(2^{-(k-1)}n_k-2^{-k}n_k)] \\ 
        &= M\times [(n_1-n_0) + 2^{-1}(n_2-n_1) + \dots + 2^{-(k-1)}(n_k-n_{k-1}) + 2^{-k}(0-n_k)] \\ 
        &= M\times [(n_1-n_0) + 2^{-1}(n_2-n_1) + \dots + 2^{-k}(n_{k+1}-n_k)] \\
        &=M\times \sum_{i=0}^{k}2^{-i}(n_{i+1}-n_i)
    \end{aligned}</script><p>可见，同样可以通过每次读取乘数的两位$n_{i+1},n_i$来求解部分积，并不断地迭代最终求出结果。迭代过程如下。</p>
<script type="math/tex; mode=display">
\begin{aligned}
        z_0 &= 0 \\
        z_1 &= 2^{-1}[(n_{k+1} - n_k)M + z_0] \\
        \vdots \\
        z_k &= 2^{-1}[(n_2 - n_1)M + z_{k-1}] \\
        result &= (n_1 - n_0)M + z_k
    \end{aligned}</script><p>可见，<strong>Booth乘法的最后一步部分积不需要进行移位，作加法运算之后直接得到最终结果</strong>。而考虑每一步读取的两位二进制数，各种情况以及操作见表。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>当前乘数位$n_{i}n_{i+1}$</th>
<th>$n_{i+1}-n_i$</th>
<th>操作内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>00</td>
<td>0</td>
<td>z$\gets$z>>1，N>>1</td>
</tr>
<tr>
<td>01</td>
<td>1</td>
<td>z$\gets$(z+1M)>>1，N>>1</td>
</tr>
<tr>
<td>10</td>
<td>-1</td>
<td>z$\gets$(z-1M)>>1，N>>1</td>
</tr>
<tr>
<td>11</td>
<td>0</td>
<td>z$\gets$z>>1，N>>1</td>
</tr>
</tbody>
</table>
</div>
<p>最后以补码乘法x=+0.0011、y=-0.1011为例进行演示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130911417.png" alt="Booth乘法">{width=”0.6\\linewidth”}</p>
<p>最后，关于补码二位乘法，此处不再赘述，各位不妨一试。</p>
<h3 id="除法"><a href="#除法" class="headerlink" title="除法"></a>除法</h3><p>再来看看除法。同样地，先从除法的竖式计算开始。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130914587.png" alt="二进制下的竖式除法">{width=”0.6\\linewidth”}</p>
<p>和乘法类似地，做竖式除法时，符号位单独考虑，具体的数值部分运算时，上商之后，余数不动，低位补0，且当上商为1时，需要减去右移一位的除数；而做机器除法时，余数左移一位，低位补0，然后减去除数。由于余数和除数参与减法操作，因此这两种处理实际上是等价的。</p>
<h4 id="原码除法"><a href="#原码除法" class="headerlink" title="原码除法"></a>原码除法</h4><p>给定原码形式下的被除数$[M]_{true}=m_0.m_1m_2\dots m_{k}$，除数$[N]_{true}=n_0.n_1n_2\dots n_{k}$，则原码做除法也是符号位单独计算、数值部分单独计算：</p>
<script type="math/tex; mode=display">
\displaystyle\left[\frac{M}{N}\right]_{true} = (m_0 \oplus n_0).\frac{|M|}{|N|}</script><p>而原码除法中，根据对余数处理方式的不同，又可以分为<strong>恢复余数法</strong>和<strong>不恢复余数法</strong>（<strong>加减交替法</strong>）。</p>
<p>关于<strong>恢复余数法</strong>，由于计算机无法如同人类直接看出每一位上商为0还是1，因此计算机总是预先上商为1，然后自然就是当前余数和除数（的一倍）做减法<sup><a href="#fn_6" id="reffn_6">6</a></sup>。<strong>如果减法的结果为负，那么当前应该上商为0，并且给当前结果加上$|N|$以便恢复余数为正数，否则上商为1</strong>。上商结束后，余数需要作逻辑左移运算。</p>
<p>给出一个示例。x=-0.1011，y=0.1101，用恢复余数法给出运算$\displaystyle\left[\frac{x}{y}\right]_{true}$的详细过程。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130915754.png" alt="恢复余数法示例">{width=”0.6\\linewidth”}</p>
<p>关于<strong>不恢复余数法</strong>（也称”加减交替法”），实际上是对恢复余数法的一种改良。因为恢复余数法中每当余数为负时，都需要进行恢复，严重延长了机器运算时间，且在除法运算中显得操作不规则，容易造成线路复杂。为了方便推导不恢复余数法的数学原理，约定用$R$表示当前余数。恢复余数法中的运算规则总结见表。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>当前余数R</th>
<th>操作内容</th>
<th>数学语言描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>R&gt;0</td>
<td>上商为1，对R左移一位，然后减去除数</td>
<td>R$\gets$2R-\</td>
<td>N\</td>
<td></td>
</tr>
<tr>
<td>R&lt;0</td>
<td>上商为0，先加上除数以恢复余数，然后左移一位，减去除数</td>
<td>R$\gets$2(R+</td>
<td>N</td>
<td>)-</td>
<td>N</td>
<td>即R$\gets$2R+\</td>
<td>N\</td>
</tr>
</tbody>
</table>
</div>
<p>因此我们得到不恢复余数法的运算规则，见表。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>当前余数R</th>
<th>操作内容</th>
<th>数学语言描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>R>0</td>
<td>上商为1，对R左移一位，然后减去除数</td>
<td>R$\gets$2R-\</td>
<td>N\</td>
<td></td>
</tr>
<tr>
<td>R\&lt;0</td>
<td>上商为0，对R左移一位，然后加上除数</td>
<td>R$\gets$2R+\</td>
<td>N\</td>
</tr>
</tbody>
</table>
</div>
<p>也给出一个示例。x=-0.1011，y=-0.1101，用不恢复余数法给出运算$\displaystyle \left[\frac{x}{y}\right]_{true}$的详细过程。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130924795.png" alt="不恢复余数法示例">{width=”0.6\\linewidth”}</p>
<h4 id="补码除法"><a href="#补码除法" class="headerlink" title="补码除法"></a>补码除法</h4><p>补码除法相对而言不如原码除法那般直观，同样也分为恢复余数法和加减交替法。这里只介绍加减交替法。这一运算方法的关键有三处：<strong>确定商值</strong>、<strong>形成商符</strong>、<strong>获得新的余数</strong>。</p>
<p>第一，确定商值。这需要先比较被除数和除数的大小。但是补码形式的比较并不能直接使用$[M]_{com}-[N]_{com}$来判断，而是需要比较它们绝对值的大小。我们将比较算法总结如下。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>被除数和除数符号情况</th>
<th>求余数操作</th>
<th>比较余数和除数的符号</th>
</tr>
</thead>
<tbody>
<tr>
<td>同号</td>
<td>$[M]_{com} - [N]_{com}$</td>
<td>同号表示$</td>
<td>M</td>
<td>&gt;</td>
<td>N</td>
<td>$，够减；异号表示$</td>
<td>M</td>
<td>&lt;</td>
<td>N</td>
<td>$，不够减</td>
</tr>
<tr>
<td>异号</td>
<td>$[M]_{com} + [N]_{com}$</td>
<td>同号表示$</td>
<td>M</td>
<td>&lt;</td>
<td>N</td>
<td>$，不够减；异号表示$</td>
<td>M</td>
<td>&gt;</td>
<td>N</td>
<td>$，够减</td>
</tr>
</tbody>
</table>
</div>
<p>确定了被除数和除数的大小之后，接下来确定商值。商符自动形成；由于商值同样也是补码，约定<strong>商的末位恒置1</strong>，故其余各位根据商的正负采取不同的上商规则：对于正商，按原码上商；对于负商，按反码上商。而关于获得新的余数，方式和原码的加减交替法极为相似。总结如下。</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>被除数和除数符号情况</th>
<th>商符</th>
<th>比较余数$[R]_{com}$和除数$[N]_{com}$的符号</th>
<th>获得新的余数操作</th>
<th>商值</th>
</tr>
</thead>
<tbody>
<tr>
<td>同号</td>
<td>正</td>
<td>同号表示$</td>
<td>R</td>
<td>&gt;</td>
<td>N</td>
<td>$，够减</td>
<td>$[R]_{com} \gets 2[R]_{com} + [-N]_{com}$</td>
<td>1</td>
</tr>
<tr>
<td>同号</td>
<td>正</td>
<td>异号表示$</td>
<td>R</td>
<td>&lt;</td>
<td>N</td>
<td>$，不够减</td>
<td>$[R]_{com} \gets 2[R]_{com} + [N]_{com}$</td>
<td>0</td>
</tr>
<tr>
<td>异号</td>
<td>负</td>
<td>异号表示$</td>
<td>R</td>
<td>&gt;</td>
<td>N</td>
<td>$，够减</td>
<td>$[R]_{com} \gets 2[R]_{com} + [N]_{com}$</td>
<td>0</td>
</tr>
<tr>
<td>异号</td>
<td>负</td>
<td>同号表示$</td>
<td>R</td>
<td>&lt;</td>
<td>N</td>
<td>$，不够减</td>
<td>$[R]_{com} \gets 2[R]_{com} + [-N]_{com}$</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>具体的算法过程总结如下。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130935276.png" alt="补码除法算法"></p>
<p>给出一个示例。x=-0.1011，y=0.1101，用补码除法给出运算$\displaystyle\left[\frac{x}{y}\right]_{com}$的详细过程。</p>
<p><img src="https://cdn.jsdelivr.net/gh/Luqingbys/blogs_images@main/images/202403130929817.png" alt="补码除法示例">{width=”0.6\\linewidth”}</p>
<p>因此，$\displaystyle \left[\frac{x}{y}\right]_{com} = 1.0011$，$\displaystyle\frac{x}{y} = -0.1101$。</p>
<blockquote id="fn_1">
<sup>1</sup>. 片选信号的形成有三方法。全译码：余下的高位地址线全部参与译码形成片选信号；部分译码：余下的高位地址线部分参与译码；线选法：余下的高位地址线，每一根选通一块芯片，直接形成该芯片的选通信号，思路很简单（不再需要译码器了），但是前提是处理器的地址线数量较多，不然根本不够用。<a href="#reffn_1" title="Jump back to footnote [1] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_2">
<sup>2</sup>. 关于其中s=t+r的推导：事实上，s=m-q，而在直接映射部分得到m=t+c，另外组地址位数q=c-r。计算s时可以直接使用主存字块地址位数m减去组地址位数q。<a href="#reffn_2" title="Jump back to footnote [2] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_3">
<sup>3</sup>. 这个过程实际上和十进制下的数据转化为科学记数法形式的过程很类似。比如十进制$202.3 \times 10^6 = 2.023 \times 10^8$​，尾数右移两位（小数点左移两位），阶增大2。<a href="#reffn_3" title="Jump back to footnote [3] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_4">
<sup>4</sup>. 在四则运算乘法中，乘号前面的数字称为被乘数，乘号后面的数字称为乘数。注意不要混淆。<a href="#reffn_4" title="Jump back to footnote [4] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_5">
<sup>5</sup>. 补码右移规则回顾：对于正数，无论左移还是右移均补0；对于负数，左移补0，右移补1。例如补码1.0010>>2=1.11<a href="#reffn_5" title="Jump back to footnote [5] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_6">
<sup>6</sup>. 同样地，此处的减法运算也转化为补码加法运算，即加上除数真值相反数的补码$[-N]_{com}$​<a href="#reffn_6" title="Jump back to footnote [6] in the text."> &#8617;</a>
</blockquote>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">鹿卿</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://luqingbys.github.io/posts/5df1.html">https://luqingbys.github.io/posts/5df1.html</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">鹿卿</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/">
                                    <span class="chip bg-color">大学课程</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="https://unpkg.com/valine/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'pHCHMrk16jGbsG9aOYILIOUL-gzGzoHsz',
        appKey: 'PlVK8cbe5ynqpAcGvHlXlGFM',
        notify: 'true' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '昵称填写QQ号可以显示QQ头像和昵称哦~',
        enableQQ: true,
        emojiCDN: '//i0.hdslb.com/bfs/emote/',
        // 表情title和图片映射
        emojiMaps: {
        "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",
        "tv_亲亲": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",
        "tv_偷笑": "bb690d4107620f1c15cff29509db529a73aee261.png",
        "tv_再见": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",
        "tv_冷漠": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",
        "tv_发怒": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",
        "tv_发财": "34db290afd2963723c6eb3c4560667db7253a21a.png",
        "tv_可爱": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",
        "tv_吐血": "09dd16a7aa59b77baa1155d47484409624470c77.png",
        "tv_呆": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",
        "tv_呕吐": "9f996894a39e282ccf5e66856af49483f81870f3.png",
        "tv_困": "241ee304e44c0af029adceb294399391e4737ef2.png",
        "tv_坏笑": "1f0b87f731a671079842116e0991c91c2c88645a.png",
        "tv_大佬": "093c1e2c490161aca397afc45573c877cdead616.png",
        "tv_大哭": "23269aeb35f99daee28dda129676f6e9ea87934f.png",
        "tv_委屈": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",
        "tv_害羞": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",
        "tv_尴尬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",
        "tv_微笑": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",
        "tv_思考": "90cf159733e558137ed20aa04d09964436f618a1.png",
        "tv_惊吓": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",
        "tv_打脸": "56ab10b624063e966bfcb76ea5dc4794d87dfd47.png",
        "tv_抓狂": "fe31c08edad661d63762b04e17b8d5ae3c71a757.png",
        "tv_抠鼻": "c666f55e88d471e51bbd9fab9bb308110824a6eb.png",
        "tv_斜眼笑": "911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png",
        "tv_无奈": "ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png",
        "tv_晕": "5443c22b4d07fb1907ccc610c8e6db254f2461b7.png",
        "tv_流汗": "cead1c351ab8d79e9f369605beb90148db0fbed3.png",
        "tv_流泪": "7e71cde7858f0cd50d74b0264aa26db612a8a167.png",
        "tv_流鼻血": "c32d39db2737f89b904ca32700d140a9241b0767.png",
        "tv_点赞": "f85c354995bd99e28fc76c869bfe42ba6438eff4.png",
        "tv_生气": "26702dcafdab5e8225b43ffd23c94ac1ff932654.png",
        "tv_生病": "8b0ec90e6b86771092a498c54f09fc94621c1900.png",
        "tv_疑问": "0793d949b18d7be716078349c202c15ff166f314.png",
        "tv_白眼": "c1d59f439e379ee50eef488bcb5e5378e5044ea4.png",
        "tv_皱眉": "72ccad6679fea0d14cce648b4d818e09b8ffea2d.png",
        "tv_目瞪口呆": "0b8cb81a68de5d5365212c99375e7ace3e7891b7.png",
        "tv_睡着": "8b196675b53af58264f383c50ad0945048290b33.png",
        "tv_笑哭": "1abc628f6d4f4caf9d0e7800878f4697abbc8273.png",
        "tv_腼腆": "89712c0d4af73e67f89e35cbc518420380a7f6f4.png",
        "tv_色": "61822c7e9aae5da76475e7892534545336b23a6f.png",
        "tv_调侃": "4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png",
        "tv_调皮": "b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png",
        "tv_鄙视": "6e72339f346a692a495b123174b49e4e8e781303.png",
        "tv_闭嘴": "c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png",
        "tv_难过": "87f46748d3f142ebc6586ff58860d0e2fc8263ba.png",
        "tv_馋": "fc7e829b845c43c623c8b490ee3602b7f0e76a31.png",
        "tv_鬼脸": "0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png",
        "tv_黑人问号": "45821a01f51bc867da9edbaa2e070410819a95b2.png",
        "tv_鼓掌": "1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"
            // ... 更多表情
        },
        requiredFields: ['nick','mail'], //设置必填项
    });
</script>

<!--酷Q推送-->


    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/posts/5df1.html">
                    <div class="card-image">
                        
                        <img src="https://ooo.0x0.ooo/2024/03/13/OywT7a.jpg" class="responsive-img" alt="计算机组成原理考点总结">
                        
                        <span class="card-title">计算机组成原理考点总结</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-03-12
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" class="post-category">
                                    计算机组成原理
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/">
                        <span class="chip bg-color">大学课程</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/posts/663f.html">
                    <div class="card-image">
                        
                        <img src="https://pic.ziyuan.wang/user/luqing2882/2024/03/ai-8530787_640_2f7834301b387.jpg" class="responsive-img" alt="常用技巧-pytorch包">
                        
                        <span class="card-title">常用技巧-pytorch包</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2024-03-06
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/python%E7%BC%96%E7%A8%8B/" class="post-category">
                                    python编程
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/pytorch/">
                        <span class="chip bg-color">pytorch</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 湖心亭<br />'
            + '文章作者: 鹿卿<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
    });
</script>



    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2024</span>
            
            <a href="/about" target="_blank">鹿卿</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    var calcSiteTime = function () {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2022";
                        var startMonth = "3";
                        var startDate = "26";
                        var startHour = "11";
                        var startMinute = "50";
                        var startSecond = "1";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);
                        var diffHours = Math.floor((diff / hours) - (diffYears * 365 + diffDays) * 24);
                        var diffMins = Math.floor((diff / minutes) - (diffYears * 365 * 24 + diffDays * 24 + diffHours) * 60);
                        var diffSecs = Math.floor((diff / seconds) - (diffYears * 365 * 24 * 60 + diffDays * 24 * 60 + diffHours * 60 + diffMins) * 60);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                        if (startYear === String(todayYear)) {
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = '本站已运行 ' + diffDays + ' 天';
                            } else if (language === 'zh-HK') {
                                daysTip = '本站已運行 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                        } else {
                            document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                            var yearsAndDaysTip = 'This site has been running for ' + diffYears + ' years and '
                                + diffDays + ' days';
                            if (language === 'zh-CN') {
                                yearsAndDaysTip = '本站已运行 ' + diffYears + ' 年 ' + diffDays + ' 天 ' + diffHours + ' 小时 ' + diffMins + ' 分钟 ' + diffSecs + ' 秒';
                            } else if (language === 'zh-HK') {
                                yearsAndDaysTip = '本站已運行 ' + diffYears + ' 年 ' + diffDays + ' 天';
                            }
                            document.getElementById("sitetime").innerHTML = yearsAndDaysTip;
                        }
                    }
                    setInterval(calcSiteTime, 1000);
//                     calcSiteTime();
                </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:630037175@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=630037175" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 630037175" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/snow.js"><\/script>');
            }
        </script>
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

    <script type="text/javascript"> var OriginTitile = document.title, st; 
        document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) }) </script>
        

</body>

</html>
