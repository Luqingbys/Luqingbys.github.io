<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="JavaScript精简代码, 湖心亭">
    <meta name="description" content="数组快速前缀和const accumulate &amp;#x3D; (...nums) &amp;#x3D;&amp;gt;
  nums.reduce((acc, n) &amp;#x3D;&amp;gt; [...acc, n + (acc.slice(-1)[0] || ">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>JavaScript精简代码 | 湖心亭</title>
    <link rel="icon" type="image/png" href="/mid-lake-pavilion.github.io/favicon.png">

    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/css/my.css">

    <script src="/mid-lake-pavilion.github.io/libs/jquery/jquery-3.6.0.min.js"></script>

    <!-- 动态诗词 -->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
<style type="text/css" lang="css">
    #loading-container{
        position: fixed;
        top: 0;
        left: 0;
        min-height: 100vh;
        width: 100vw;
        z-index: 9999;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        background: #FFF;
        text-align: center;
        /* loader页面消失采用渐隐的方式*/
        -webkit-transition: opacity 1s ease;
        -moz-transition: opacity 1s ease;
        -o-transition: opacity 1s ease;
        transition: opacity 1s ease;
    }
    .loading-image{
        width: 120px;
        height: 50px;
        transform: translate(-50%);
    }
    
    .loading-image div:nth-child(2) {
        -webkit-animation: pacman-balls 1s linear 0s infinite;
        animation: pacman-balls 1s linear 0s infinite
    }

    .loading-image div:nth-child(3) {
        -webkit-animation: pacman-balls 1s linear .33s infinite;
        animation: pacman-balls 1s linear .33s infinite
    }

    .loading-image div:nth-child(4) {
        -webkit-animation: pacman-balls 1s linear .66s infinite;
        animation: pacman-balls 1s linear .66s infinite
    }

    .loading-image div:nth-child(5) {
        -webkit-animation: pacman-balls 1s linear .99s infinite;
        animation: pacman-balls 1s linear .99s infinite
    }
    
   .loading-image div:first-of-type {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_up .5s 0s infinite;
        animation: rotate_pacman_half_up .5s 0s infinite;
    }
    .loading-image div:nth-child(2) {
        width: 0;
        height: 0;
        border: 25px solid #49b1f5;
        border-right-color: transparent;
        border-radius: 25px;
        -webkit-animation: rotate_pacman_half_down .5s 0s infinite;
        animation: rotate_pacman_half_down .5s 0s infinite;
        margin-top: -50px;
    }
    @-webkit-keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @keyframes rotate_pacman_half_up {0% {transform: rotate(270deg)}50% {transform: rotate(1turn)}to {transform: rotate(270deg)}}

    @-webkit-keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}

    @keyframes rotate_pacman_half_down {0% {transform: rotate(90deg)}50% {transform: rotate(0deg)}to {transform: rotate(90deg)}}
    
    @-webkit-keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}

    @keyframes pacman-balls {75% {opacity: .7}to {transform: translate(-100px, -6.25px)}}
    
   
    .loading-image div:nth-child(3),
    .loading-image div:nth-child(4),
    .loading-image div:nth-child(5),
    .loading-image div:nth-child(6){
        background-color: #49b1f5;
        width: 15px;
        height: 15px;
        border-radius: 100%;
        margin: 2px;
        width: 10px;
        height: 10px;
        position: absolute;
        transform: translateY(-6.25px);
        top: 25px;
        left: 100px;
    }
    .loading-text{
        margin-bottom: 20vh;
        text-align: center;
        color: #2c3e50;
        font-size: 2rem;
        box-sizing: border-box;
        padding: 0 10px;
        text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    @media only screen and (max-width: 500px) {
         .loading-text{
            font-size: 1.5rem;
         }
    }
    .fadeout {
        opacity: 0;
        filter: alpha(opacity=0);
    }
    /* logo出现动画 */
    @-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);transform:translate3d(0,-100%,0)}100%{opacity:1;-webkit-transform:none;transform:none}}
    @keyframes fadeInDown{0%{opacity:0;-webkit-transform:translate3d(0,-100%,0);}}
 </style>
 <script>
(function () {
    const loaded = function(){
       setTimeout(function(){
            const loader = document.getElementById("loading-container");
            loader.className="fadeout" ;//使用渐隐的方法淡出loading page
            // document.getElementById("body-wrap").style.display="flex";
            setTimeout(function(){
                loader.style.display="none";
            },1000); 
        },1000);//强制显示loading page 1s  
    };
    loaded();
})()
 </script><meta name="generator" content="Hexo 6.1.0"></head>





 <div id="loading-container">
     <p class="loading-text">玩命加载中 . . . </p> 
     <div class="loading-image">
         <div></div>
         <div></div>
         <div></div>
         <div></div> 
         <div></div>
     </div>
 </div><body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/mid-lake-pavilion.github.io/" class="waves-effect waves-light">
                    
                    <img src="/mid-lake-pavilion.github.io/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">湖心亭</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/mid-lake-pavilion.github.io/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/mid-lake-pavilion.github.io/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/mid-lake-pavilion.github.io/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/mid-lake-pavilion.github.io/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/mid-lake-pavilion.github.io/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/mid-lake-pavilion.github.io/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/mid-lake-pavilion.github.io/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/mid-lake-pavilion.github.io/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">湖心亭</div>
        <div class="logo-desc">
            
            湖上影子，惟长堤一痕、湖心亭一点，与余舟一芥，舟中人两三粒而已。
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/mid-lake-pavilion.github.io/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/mid-lake-pavilion.github.io/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/mid-lake-pavilion.github.io/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/mid-lake-pavilion.github.io/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/mid-lake-pavilion.github.io/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/mid-lake-pavilion.github.io/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/mid-lake-pavilion.github.io/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/mid-lake-pavilion.github.io/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/mid-lake-pavilion.github.io/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/mid-lake-pavilion.github.io/medias/featureimages/5.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">JavaScript精简代码</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/mid-lake-pavilion.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/mid-lake-pavilion.github.io/tags/JavaScript/">
                                <span class="chip bg-color">JavaScript</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/mid-lake-pavilion.github.io/categories/%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/" class="post-category">
                                高级程序设计语言
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-03-11
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2023-07-23
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    4.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    18 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/mid-lake-pavilion.github.io/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="数组快速前缀和"><a href="#数组快速前缀和" class="headerlink" title="数组快速前缀和"></a>数组快速前缀和</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const accumulate &#x3D; (...nums) &#x3D;&gt;
  nums.reduce((acc, n) &#x3D;&gt; [...acc, n + (acc.slice(-1)[0] || 0)], [])<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h3><p>reduce函数，这个函数作用于一个数组，最大的特点就是数组中的每一个元素都会被作为接收的函数的参数调用一次：</p>
<p><code>reduce((accumulate, current) =&gt; &#123;...&#125;, initial)</code></p>
<p>接收两个参数：</p>
<ul>
<li>第一个是一个函数，它的第一个参数accumulate是累加器，代表当前处理值，第二个参数是数组当前的处理值；</li>
<li>第二个是accumulate的初始值，默认为数组的第一个元素。</li>
</ul>
<h4 id="使用到reduce-函数的场景"><a href="#使用到reduce-函数的场景" class="headerlink" title="使用到reduce()函数的场景"></a>使用到reduce()函数的场景</h4><p>reduce()专用于Array，功能强大，有时候会发挥巧妙的作用，这就要求我们对reduce()有足够的掌握能力了。但是一般说来，如果对于某一个数组，我们需要遍历其每一个元素进行处理，并且还需要先前的处理结果时，此时可能适合使用reduce()。<strong>另外，有些问题可能并不是以数组形式出现，需要首先将其转化为数组（Object.keys()等方法）</strong>。</p>
<h4 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h4><blockquote>
<p>Pete likes to bake some cakes. He has some recipes and ingredients. Unfortunately he is not good in maths. Can you help him to find out, how many cakes he could bake considering his recipes?</p>
<p>Write a function <code>cakes()</code>, which takes the recipe (object) and the available ingredients (also an object) and returns the maximum number of cakes Pete can bake (integer). For simplicity there are no units for the amounts (e.g. 1 lb of flour or 200 g of sugar are simply 1 or 200). Ingredients that are not present in the objects, can be considered as 0.</p>
<p>Examples:</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// must return 2</span>
<span class="token function">cakes</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">flour</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token literal-property property">sugar</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">eggs</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">flour</span><span class="token operator">:</span> <span class="token number">1200</span><span class="token punctuation">,</span> <span class="token literal-property property">sugar</span><span class="token operator">:</span> <span class="token number">1200</span><span class="token punctuation">,</span> <span class="token literal-property property">eggs</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token literal-property property">milk</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// must return 0</span>
<span class="token function">cakes</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">apples</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token literal-property property">flour</span><span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token literal-property property">sugar</span><span class="token operator">:</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token literal-property property">milk</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">oil</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">sugar</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token literal-property property">flour</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token literal-property property">milk</span><span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<p>分享一个很简洁的代码思路：</p>
<p>首先肯定要遍历配料对象的每一个属性，然后在原料对象中查询之，两者作整数除法，取出最小值即为答案了。这其实符合了reduce()函数的使用场景：每一个元素都需要被处理；还需要比较先前的处理结果（取最小值）。</p>
<p>于是，对于reduce的接收的回调函数的累加器参数，我们设置为min{当前原料与配料量之比，之前的值}（也即回调函数的返回值），第二个参数设为Infinity，表示无穷大。</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function cakes(recipe, available) &#123;
    return Object.keys(recipe).reduce((pre, ingre) &#x3D;&gt; &#123;
        return Math.min(Math.floor(available[ingre] &#x2F; recipe[ingre]), pre)
    &#125;, Infinity)
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="slice"><a href="#slice" class="headerlink" title="slice()"></a>slice()</h3><p>Array.slice()，用于JavaScript的数组切片操作。此处，acc.slice(-1)表示取出acc的最后一个元素（返回数组）。</p>
<h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><ul>
<li>审视这段代码，[]是初始值，也就是第一次调用回调函数时，acc累加器是[]，参数n是首元素，箭头函数返回值是一个数组，acc是数组类型，经扩展运算符，与当前值和累加器的最后一个元素相加组合成新数组。</li>
<li>这样一来，数组就是前缀和形式。</li>
</ul>
<h2 id="快速修改ISO格式日期"><a href="#快速修改ISO格式日期" class="headerlink" title="快速修改ISO格式日期"></a>快速修改ISO格式日期</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const addDaysToDate &#x3D; (date, n) &#x3D;&gt; &#123;
  const d &#x3D; new Date(date);
  d.setDate(d.getDate() + n);
  return d.toISOString().split(&#39;T&#39;)[0];
&#125;;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="toISOString"><a href="#toISOString" class="headerlink" title="toISOString()"></a>toISOString()</h3><p>Date.toISOString()，可以将一个Date类型的数据转化为ISO格式的字符串。ISO格式，形如<code>*2022-10-15T00:00:00.000Z*</code></p>
<h3 id="解释-1"><a href="#解释-1" class="headerlink" title="解释"></a>解释</h3><p>调用Date类型数据d的setDate()方法，设置其天数，在当前天数（getDate()）基础上加n，重新转为ISO类型字符串。</p>
<h2 id="数组快速分割"><a href="#数组快速分割" class="headerlink" title="数组快速分割"></a>数组快速分割</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const aperture &#x3D; (n, arr) &#x3D;&gt;
&#x2F;&#x2F; map((currentValue, currentIndex) &#x3D;&gt; &#123;&#125;)
  n &gt; arr.length
    ? []
    : arr.slice(n - 1).map((v, i) &#x3D;&gt; arr.slice(i, i + n));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h3><p>Array.map((currentValue, currentIndex) =&gt; {…})</p>
<p>这个函数的特点也是会对数组中的每一个元素都使用一次回调函数参数。</p>
<h3 id="解释-2"><a href="#解释-2" class="headerlink" title="解释"></a>解释</h3><p>对于最外层的aperture函数，参数n是步长，arr是原数组；先从原数组的第n个元素开始取，对取出的子数组的每一个元素都使用map()函数（共arr.length-n+1次），每一次调用map函数都会得到一个新的子数组。</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">aperture(2, [1, 2, 3, 4]); &#x2F;&#x2F; [[1, 2], [2, 3], [3, 4]]
aperture(3, [1, 2, 3, 4]); &#x2F;&#x2F; [[1, 2, 3], [2, 3, 4]]
aperture(5, [1, 2, 3, 4]); &#x2F;&#x2F; []<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="算术迭代"><a href="#算术迭代" class="headerlink" title="算术迭代"></a>算术迭代</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const arithmeticProgression &#x3D; (n, lim) &#x3D;&gt;
    Array.from(&#123;
        length: Math.ceil(lim &#x2F; n)
    &#125;, (_, i) &#x3D;&gt; (i + 1) * n)

let re &#x3D; arithmeticProgression(5, 25)
console.log(re);
&#x2F;&#x2F; [ 5, 10, 15, 20, 25 ]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="from"><a href="#from" class="headerlink" title="from()"></a>from()</h3><p>Array.from(obj, mapFn(currentValue, currentIndex) =&gt; {…}, thisArg)</p>
<p>其中，obj是一个可迭代对象（具有length属性），它将被转化为一个数组；而mapFn相当于map函数，它会在obj转化时对其进一步转化（联系map函数特点，每一个元素都会被处理一次）。</p>
<h3 id="解释-3"><a href="#解释-3" class="headerlink" title="解释"></a>解释</h3><p>此处的from函数，第一个参数是一个对象，length属性用于迭代生成数组，第二个参数是mapFn，它接收了两个参数，第一个是占位符，第二个是下标，表示数组中的每一个元素的得到方式：下标加1再乘以n。</p>
<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><blockquote>
<p>The goal of this exercise is to convert a string to a new string where each character in the new string is <code>&quot;(&quot;</code> if that character appears only once in the original string, or <code>&quot;)&quot;</code> if that character appears more than once in the original string. Ignore capitalization when determining if a character is a duplicate.</p>
<h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><pre class="line-numbers language-none"><code class="language-none">&quot;din&quot;      &#x3D;&gt;  &quot;(((&quot;
&quot;recede&quot;   &#x3D;&gt;  &quot;()()()&quot;
&quot;Success&quot;  &#x3D;&gt;  &quot;)())())&quot;
&quot;(( @&quot;     &#x3D;&gt;  &quot;))((&quot; <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<p>参考代码如下，思路是将字符串转化为数组，同时利用from函数的第二个参数——处理函数，对结果进行二次处理，最后重新拼接成满足条件的字符串。</p>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function duplicateEncode(word)&#123;
    word &#x3D; word.toUpperCase()
    return Array.from(word, (v, i) &#x3D;&gt; word.indexOf(v)&#x3D;&#x3D;&#x3D;word.lastIndexOf(v) ? &#39;(&#39; : &#39;)&#39;).join(&#39;&#39;)
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>Write a function, <code>persistence</code>, that takes in a positive parameter <code>num</code> and returns its multiplicative persistence, which is the number of times you must multiply the digits in <code>num</code> until you reach a single digit.</p>
<p>For example <strong>(Input —&gt; Output)</strong>:</p>
<pre class="line-numbers language-none"><code class="language-none">39 --&gt; 3 (because 3*9 &#x3D; 27, 2*7 &#x3D; 14, 1*4 &#x3D; 4 and 4 has only one digit)
999 --&gt; 4 (because 9*9*9 &#x3D; 729, 7*2*9 &#x3D; 126, 1*2*6 &#x3D; 12, and finally 1*2 &#x3D; 2)
4 --&gt; 0 (because 4 is already a one-digit number)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">persistence</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> time<span class="token operator">=</span><span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> num <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> time <span class="token operator">:</span> <span class="token function">persistence</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>num<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> acc <span class="token operator">*</span> i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">++</span>time<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="多维数组求最大值"><a href="#多维数组求最大值" class="headerlink" title="多维数组求最大值"></a>多维数组求最大值</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const ary &#x3D; (fn, n) &#x3D;&gt; (...args) &#x3D;&gt; fn(...args.slice(0, n));

const firstTwoMax &#x3D; ary(Math.max, 2);
[
    [2, 6, &#39;a&#39;],
    [6, 4, 8],
    [10]
].map(x &#x3D;&gt; firstTwoMax(...x)); &#x2F;&#x2F; [6, 6, 10]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="解释-4"><a href="#解释-4" class="headerlink" title="解释"></a>解释</h3><p>此处的ary函数的写法有些奇怪。其实，这是箭头函数简略写法的嵌套，有点类似闭包——也就是说，ary的返回结果是一个函数对象，这个函数对象接收一个数组，并取其子数组作为参数调用fn函数。</p>
<p>firstTwoMax()得到一个求前两个元素较大值的函数对象，经map函数作用于每一个子数组，得到新值。</p>
<h2 id="对象是否包含指定键"><a href="#对象是否包含指定键" class="headerlink" title="对象是否包含指定键"></a>对象是否包含指定键</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const assertValidKeys &#x3D; (obj, keys) &#x3D;&gt;
  Object.keys(obj).every(key &#x3D;&gt; keys.includes(key));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h3><p>这个方法是Object对象上的，它接收一个object实例对象作为参数，返回其所有的键（数组形式）。</p>
<h3 id="Array-every-callback"><a href="#Array-every-callback" class="headerlink" title="Array.every(callback)"></a>Array.every(callback)</h3><p>对数组的每一个元素检查，是否满足回调函数 callback 中提供的条件。</p>
<h2 id="数组元素分组"><a href="#数组元素分组" class="headerlink" title="数组元素分组"></a>数组元素分组</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">bifurcate</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> filter</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> val<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>acc<span class="token punctuation">[</span>filter<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span> acc<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>这里关键就是reduce函数的使用：对于arr中的每一个元素，都需要经过处理，累加器acc是一个二维数组，通过判断在filter数组中的值来确定加入acc中的哪一个子数组。</p>
<h2 id="绑定对象的键"><a href="#绑定对象的键" class="headerlink" title="绑定对象的键"></a>绑定对象的键</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const bindKey &#x3D; (context, fn, ...boundArgs) &#x3D;&gt; (...args) &#x3D;&gt;
  context[fn].apply(context, [...boundArgs, ...args]);

const freddy &#x3D; &#123;
  user: &#39;fred&#39;,
  greet: function(greeting, punctuation) &#123;
    return greeting + &#39; &#39; + this.user + punctuation;
  &#125;
&#125;;
const freddyBound &#x3D; bindKey(freddy, &#39;greet&#39;);
console.log(freddyBound(&#39;hi&#39;, &#39;!&#39;)); &#x2F;&#x2F; &#39;hi fred!&#39;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="bind"><a href="#bind" class="headerlink" title="bind()"></a>bind()</h3><p><code>function.bind(thisArg[, arg1[, arg2[, ...]]])</code></p>
<p>这个bind()函数将会创建一个新的函数，同时指定该函数的this参数thisArg，以及传递给function的参数arg1等。</p>
<h3 id="解释-5"><a href="#解释-5" class="headerlink" title="解释"></a>解释</h3><p>此处的bindKey()将返回一个函数对象：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// freddyBound变量的内容：</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> context<span class="token punctuation">[</span>fn<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token operator">...</span>boundArgs<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>该函数中，context为freddy对象，fn为键名greet，freddyBound()再接收的参数（即…args），会被作为apply方法的第二个参数：</p>
<p><code>freddyBound(&#39;hi&#39;, &#39;!&#39;)</code>，args即为’hi’, ‘!’，它们将作为greeting、punction出现在freddy.greet的参数中。</p>
<h2 id="bottomVisible判定页面底部是否可见"><a href="#bottomVisible判定页面底部是否可见" class="headerlink" title="bottomVisible判定页面底部是否可见"></a>bottomVisible判定页面底部是否可见</h2><pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">const bottomVisible &#x3D; () &#x3D;&gt;
    document.documentElement.clientHeight + window.scrollY &gt;&#x3D;
    (document.documentElement.scrollHeight ||
        document.documentElement.clientHeight);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="三大易混属性"><a href="#三大易混属性" class="headerlink" title="三大易混属性"></a>三大易混属性</h3><ul>
<li>element.clientHeight</li>
<li>window.scrollX / window.scrollY</li>
</ul>
<h4 id="clientHeight-clientWidth"><a href="#clientHeight-clientWidth" class="headerlink" title="clientHeight/clientWidth"></a>clientHeight/clientWidth</h4><p>这是HTMLElement的一个只读属性。比如clientHeight，它是<strong>元素内部的高度(单位像素)，包含内边距，但不包括水平滚动条、边框和外边距</strong>。</p>
<p><code>HTMLElement&#39;clientHeight = CSS&#39;height + CSS&#39;padding - scroll&#39;height</code></p>
<p>使用语法一般就是</p>
<p><code>var h = element.clientHeight;</code></p>
<p>其中，element是一个HTML元素，它会返回一个整数（单位px像素）。</p>
<h4 id="offsetHeight-offsetWidth"><a href="#offsetHeight-offsetWidth" class="headerlink" title="offsetHeight/offsetWidth"></a>offsetHeight/offsetWidth</h4><p>这也是HTMLElement的一个只读属性。比如元素的offsetHeight是一种元素CSS高度的衡量标准，包括<strong>元素的边框、内边距和元素的水平滚动条</strong>。</p>
<h4 id="scrollX-scrollY"><a href="#scrollX-scrollY" class="headerlink" title="scrollX/scrollY"></a>scrollX/scrollY</h4><p>返回<strong>文档/页面水平方向滚动的像素值</strong>。</p>
<p>使用语法一般就是</p>
<p><code>var x = window.scrollX;</code></p>
<h4 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
        <span class="token selector">.demo</span> <span class="token punctuation">&#123;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>207<span class="token punctuation">,</span> 114<span class="token punctuation">,</span> 114<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">/* 宽度和高度都属于盒子的内容区，offset和client都包含 */</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
            <span class="token comment">/* border属于边框，offset包含，client不包含 */</span>
            <span class="token property">border</span><span class="token punctuation">:</span> 10px #bfc solid<span class="token punctuation">;</span>
            <span class="token comment">/* margin属于外边距，offset、client都不包含 */</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
            <span class="token comment">/* padding属于内边距，offset、client都包含 */</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
            <span class="token comment">/* 滚动条的宽度，offset包含，client不包含 */</span>
            <span class="token property">overflow</span><span class="token punctuation">:</span> scroll<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        中和癸卯春三月，洛阳城外花如雪。
        东西南北路人绝，绿杨悄悄香尘灭。
        路旁忽见如花人，独向绿杨阴下歇。
        凤侧鸾欹鬓脚斜，红攒黛敛眉心折。
        借问女郎何处来？含颦欲语声先咽。
        回头敛袂谢行人，丧乱漂沦何堪说！
        三年陷贼留秦地，依稀记得秦中事。
        君能为妾解金鞍，妾亦与君停玉趾。

        前年庚子腊月五，正闭金笼教鹦鹉。
        斜开鸾镜懒梳头，闲凭雕栏慵不语。
        忽看门外起红尘，已见街中擂金鼓。
        居人走出半仓惶，朝士归来尚疑误。
        是时西面官军入，拟向潼关为警急。
        皆言博野自相持，尽道贼军来未及。
        须臾主父乘奔至，下马入门痴似醉。
        适逢紫盖去蒙尘，已见白旗来匝地。

        扶羸携幼竞相呼，上屋缘墙不知次。
        南邻走入北邻藏，东邻走向西邻避。
        北邻诸妇咸相凑，户外崩腾如走兽。
        轰轰昆昆乾坤动，万马雷声从地涌。
        火迸金星上九天，十二官街烟烘烔。
        日轮西下寒光白，上帝无言空脉脉。
        阴云晕气若重围，宦者流星如血色。
        紫气潜随帝座移，妖光暗射台星拆。
        ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> <span class="token function-variable function">bottomVisible</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
        document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight <span class="token operator">+</span> window<span class="token punctuation">.</span>scrollY <span class="token operator">>=</span>
        <span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollHeight <span class="token operator">||</span>
            document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.demo'</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'clientHeight'</span><span class="token punctuation">,</span> el<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'clientWidth'</span><span class="token punctuation">,</span> el<span class="token punctuation">.</span>clientWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'offsetHeight'</span><span class="token punctuation">,</span> el<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'offsetWidth'</span><span class="token punctuation">,</span> el<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>scrollY<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
<span class="token comment">&lt;!--以下是浏览器控制台输出结果--></span>
clientHeight 613
09-bottomVisible.html:206 clientWidth 414
09-bottomVisible.html:207 offsetHeight 650
09-bottomVisible.html:208 offsetWidth 450
09-bottomVisible.html:209 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>下面是获取各种浏览器可见窗口大小的函数：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#123;</span>
        <span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页可见区域宽："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页可见区域高："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页可见区域宽："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>offsetWidth <span class="token operator">+</span> <span class="token string">" (包括边线和滚动条的宽)"</span><span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页可见区域高："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>offsetHeight <span class="token operator">+</span> <span class="token string">" (包括边线的宽)"</span><span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页正文全文宽："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页正文全文高："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页被卷去的高(ff)："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页被卷去的高(ie)："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页被卷去的左："</span><span class="token operator">+</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollLeft<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页正文部分上："</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screenTop<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 网页正文部分左："</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screenLeft<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 屏幕分辨率的高："</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 屏幕分辨率的宽："</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 屏幕可用工作区高度："</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availHeight<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 屏幕可用工作区宽度："</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>availWidth<span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 你的屏幕设置是 "</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>colorDepth <span class="token operator">+</span><span class="token string">" 位彩色"</span><span class="token punctuation">;</span>
        s <span class="token operator">+=</span> <span class="token string">" 你的屏幕设置 "</span><span class="token operator">+</span> window<span class="token punctuation">.</span>screen<span class="token punctuation">.</span>deviceXDPI <span class="token operator">+</span><span class="token string">" 像素/英寸"</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="数组元素判定相同"><a href="#数组元素判定相同" class="headerlink" title="数组元素判定相同"></a>数组元素判定相同</h2><blockquote>
<p>Given two arrays <code>a</code> and <code>b</code> write a function <code>comp(a, b)</code> (or<code>compSame(a, b)</code>) that checks whether the two arrays have the “same” elements, with the same <em>multiplicities</em> (the multiplicity of a member is the number of times it appears). “Same” means, here, that the elements in <code>b</code> are the elements in <code>a</code> squared, regardless of the order.</p>
<h4 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h4><h5 id="Valid-arrays"><a href="#Valid-arrays" class="headerlink" title="Valid arrays"></a>Valid arrays</h5><pre class="line-numbers language-none"><code class="language-none">a &#x3D; [121, 144, 19, 161, 19, 144, 19, 11]  
b &#x3D; [121, 14641, 20736, 361, 25921, 361, 20736, 361]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><code>comp(a, b)</code> returns true because in <code>b</code> 121 is the square of 11, 14641 is the square of 121, 20736 the square of 144, 361 the square of 19, 25921 the square of 161, and so on. It gets obvious if we write <code>b</code>‘s elements in terms of squares:</p>
<pre class="line-numbers language-none"><code class="language-none">a &#x3D; [121, 144, 19, 161, 19, 144, 19, 11] 
b &#x3D; [11*11, 121*121, 144*144, 19*19, 161*161, 19*19, 144*144, 19*19]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</blockquote>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">function comp(array1, array2) &#123;
    return array1 !&#x3D; null &amp;&amp; array2 !&#x3D; null &amp;&amp; array1.sort((a, b) &#x3D;&gt; b - a).map(v &#x3D;&gt; v * v).join() &#x3D;&#x3D; array2.sort((a, b) &#x3D;&gt; b - a).join()
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="解释-6"><a href="#解释-6" class="headerlink" title="解释"></a>解释</h3><p>题目要求的是当a数组中元素的平方都在b数组中时（注意a、b元素个数相同），称a与b“相同”，正常的思路是对a数组使用<code>Array.every()</code>，every()函数中接收参数为对a中每一个元素，它的平方是否在b中出现：<code>b.indexOf(ele*ele) !== -1</code>。</p>
<p>而新颖的思路是，既然两个数组元素数量一致，那么如果a、b相同，将a中元素均平方，得到的新数组和b就会完全一致，只是顺序可能有差异。既然顺序不同，我们可以sort排序将它们顺序转为一致，然后使用<code>Array.join()</code>方法转为字符串，进而直接进行<code>==</code>判定。</p>
<h2 id="单词首字母大写"><a href="#单词首字母大写" class="headerlink" title="单词首字母大写"></a>单词首字母大写</h2><blockquote>
<p>Complete the method/function so that it converts dash/underscore delimited words into camel casing. The first word within the output should be capitalized <strong>only</strong> if the original word was capitalized (known as Upper Camel Case, also often referred to as Pascal case).</p>
<h3 id="Examples-2"><a href="#Examples-2" class="headerlink" title="Examples"></a>Examples</h3><pre class="line-numbers language-none"><code class="language-none">&quot;the-stealth-warrior&quot;&#96; gets converted to &#96;&quot;theStealthWarrior&quot;&#96;
&#96;&quot;The_Stealth_Warrior&quot;&#96; gets converted to &#96;&quot;TheStealthWarrior&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</blockquote>
<h3 id="resolution"><a href="#resolution" class="headerlink" title="resolution"></a>resolution</h3><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">toCamelCase</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[-_](.)</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=></span> c<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="String-replace-方法"><a href="#String-replace-方法" class="headerlink" title="String.replace()方法"></a>String.replace()方法</h3><p><code>str.replace(substr | regexp, newSubStr | function)</code></p>
<ul>
<li>subStr，是str的子串内容</li>
<li>regexp，是正则表达式，对str按照该正则进行匹配</li>
<li>newSubStr，是要替换的新内容</li>
<li>function，</li>
</ul>
<h2 id="判断幂的个位数字"><a href="#判断幂的个位数字" class="headerlink" title="判断幂的个位数字"></a>判断幂的个位数字</h2><blockquote>
<p>给定两个参数str1，str2，要求出str1^str2的个位数字。</p>
</blockquote>
<pre class="line-numbers language-JavaScript" data-language="JavaScript"><code class="language-JavaScript">var lastDigit &#x3D; function(str1, str2) &#123;
    return +str2 &#x3D;&#x3D;&#x3D; 0 ? 1 : (+str1.slice(-1))**(+str2.slice(-2) % 4 + 4) % 10
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>在敲代码编程之前，我们先动笔算算0~9这十个数字的幂的情况，期望从中找出幂的个位数的规律。</p>
<p>经过简单的计算之后，我们会发现其实0~9每一个数字的幂以4为周期（事实上，0、1、5、6以1为周期，4、8以2为周期），所以取最小公倍数统一处理。此处需要指出：string.slice()方法用于截取字符串，slice(-1)截取最后一个字符，slice(-2)截取最后两个字符，以此类推。</p>
<h2 id="大数相加问题"><a href="#大数相加问题" class="headerlink" title="大数相加问题"></a>大数相加问题</h2><blockquote>
<p>传统的a plus b问题，要求它们的和。其中，a、b以字符串给出，返回的结果亦为字符串类型。</p>
</blockquote>
<p>The code as below is like an art.</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> res <span class="token operator">=</span> <span class="token string">''</span>	<span class="token comment">// res存储运算结果，以字符串形式；c存储每一位的进位</span>
    a <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>
    b <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>	<span class="token comment">// 字符串分割，转为数组</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length <span class="token operator">||</span> b<span class="token punctuation">.</span>length <span class="token operator">||</span> c<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        c <span class="token operator">+=</span> <span class="token operator">~</span><span class="token operator">~</span>a<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token operator">~</span><span class="token operator">~</span>b<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">// 二次取反，专门用于处理数组长度为0时取值undefined，而~~undefined值为0</span>
        res <span class="token operator">=</span> c <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">+</span> res	<span class="token comment">// 结果拼接</span>
        c <span class="token operator">=</span> c <span class="token operator">></span> <span class="token number">9</span>	<span class="token comment">// 考虑进位</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="单词首字母大写-1"><a href="#单词首字母大写-1" class="headerlink" title="单词首字母大写"></a>单词首字母大写</h2><blockquote>
<p>const capitalize = ([first, …rest], lowerRest = false) =&gt; first.toUpperCase() + (lowerRest ? rest.join(‘’).toLowerCase() : rest.join(‘’))</p>
</blockquote>
<h3 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h3><p>解构赋值是ES6新推出的语法，有着强大的功能。</p>
<p>在上面的代码示例中，我们调用<code>capitalize(&#39;helloWorld&#39;, true);</code>‘helloWorld’会传入参数作为第一个参数，而函数第一个参数是以解构赋值形式接收的：</p>
<ul>
<li>first保存的是字符串的首字符，即h；</li>
<li>…rest保存的是从第二个字符开始的全部子字符串的数组形式，即[‘e’, ‘l’, ‘l’, ‘o’, ‘W’, ‘o’, ‘r’, ‘l’, ‘d’]</li>
</ul>
<h3 id="解释-7"><a href="#解释-7" class="headerlink" title="解释"></a>解释</h3><p>运用解构赋值、toUppercase()、toLowerCase()等，可以很方便地实现这种功能。</p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/mid-lake-pavilion.github.io/about" rel="external nofollow noreferrer">鹿卿</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://luqingbys.github.io/mid-lake-pavilion.github.io/mid-lake-pavilion.github.io/2022/03/11/JavaScript%E7%B2%BE%E7%AE%80%E4%BB%A3%E7%A0%81/">https://luqingbys.github.io/mid-lake-pavilion.github.io/mid-lake-pavilion.github.io/2022/03/11/JavaScript%E7%B2%BE%E7%AE%80%E4%BB%A3%E7%A0%81/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/mid-lake-pavilion.github.io/about" target="_blank">鹿卿</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/mid-lake-pavilion.github.io/tags/JavaScript/">
                                    <span class="chip bg-color">JavaScript</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/mid-lake-pavilion.github.io/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/mid-lake-pavilion.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/mid-lake-pavilion.github.io/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/mid-lake-pavilion.github.io/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/mid-lake-pavilion.github.io/2022/03/14/JavaScript%E7%BC%96%E7%A8%8B%E7%BB%83%E4%B9%A0%E9%A2%98/">
                    <div class="card-image">
                        
                        
                        <img src="/mid-lake-pavilion.github.io/medias/featureimages/23.jpg" class="responsive-img" alt="JavaScript编程练习题">
                        
                        <span class="card-title">JavaScript编程练习题</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-03-14
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/mid-lake-pavilion.github.io/categories/%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%AF%AD%E8%A8%80/" class="post-category">
                                    高级程序设计语言
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/mid-lake-pavilion.github.io/tags/JavaScript/">
                        <span class="chip bg-color">JavaScript</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/mid-lake-pavilion.github.io/2022/03/07/SQL%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80/">
                    <div class="card-image">
                        
                        
                        <img src="/mid-lake-pavilion.github.io/medias/featureimages/10.jpg" class="responsive-img" alt="SQL查询语言">
                        
                        <span class="card-title">SQL查询语言</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-03-07
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/mid-lake-pavilion.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F/" class="post-category">
                                    数据库系统
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/mid-lake-pavilion.github.io/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/">
                        <span class="chip bg-color">大学课程</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 湖心亭<br />'
            + '文章作者: 鹿卿<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/mid-lake-pavilion.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/mid-lake-pavilion.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/mid-lake-pavilion.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/mid-lake-pavilion.github.io/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/mid-lake-pavilion.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2023</span>
            
            <a href="/mid-lake-pavilion.github.io/about" target="_blank">鹿卿</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:630037175@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=630037175" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 630037175" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/mid-lake-pavilion.github.io/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/mid-lake-pavilion.github.io/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/mid-lake-pavilion.github.io/libs/materialize/materialize.min.js"></script>
    <script src="/mid-lake-pavilion.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/mid-lake-pavilion.github.io/libs/aos/aos.js"></script>
    <script src="/mid-lake-pavilion.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/mid-lake-pavilion.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/mid-lake-pavilion.github.io/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/mid-lake-pavilion.github.io/libs/others/snow.js"><\/script>');
            }
        </script>
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="/mid-lake-pavilion.github.io/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/mid-lake-pavilion.github.io/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/mid-lake-pavilion.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/mid-lake-pavilion.github.io/libs/background/canvas-nest.js"></script>
    

    

    

    
    <script src="/mid-lake-pavilion.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

    <script type="text/javascript"> var OriginTitile = document.title, st; 
        document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) }) </script>
        

</body>

</html>
